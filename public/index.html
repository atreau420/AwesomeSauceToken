<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AwesomeSauceToken - Earn Crypto & Passive Income</title>
    <meta name="description" content="Join AwesomeSauceToken for automated trading bots, crypto games, and passive income generation. Earn while you play with our innovative DeFi platform.">
    <meta name="keywords" content="crypto, DeFi, trading bots, passive income, blockchain games, earn crypto, AwesomeSauceToken">
    <meta name="author" content="AwesomeSauceToken Team">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://awesomesaucetoken.netlify.app/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://awesomesaucetoken.netlify.app/">
    <meta property="og:title" content="AwesomeSauceToken - Earn Crypto & Passive Income">
    <meta property="og:description" content="Automated trading bots and crypto games for passive income. Join the revolution!">
    <meta property="og:image" content="https://awesomesaucetoken.netlify.app/icon-512.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://awesomesaucetoken.netlify.app/">
    <meta property="twitter:title" content="AwesomeSauceToken - Earn Crypto & Passive Income">
    <meta property="twitter:description" content="Automated trading bots and crypto games for passive income. Join the revolution!">
    <meta property="twitter:image" content="https://awesomesaucetoken.netlify.app/icon-512.png">
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon-192.png" sizes="192x192">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <meta name="theme-color" content="#667eea">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            transition: all 0.3s ease;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 60px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .stat {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            min-width: 150px;
        }

        .stat h3 {
            font-size: 2rem;
            color: white;
            margin-bottom: 5px;
        }

        .stat p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 30px 60px rgba(0,0,0,0.2);
        }

        .card-icon {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }

        .card h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }

        .card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        /* Bot Status */
        .bot-status {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .bot-status h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .status-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .status-item h4 {
            color: #667eea;
            margin-bottom: 5px;
        }

        .status-item p {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

    .footer p {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 10px;
        }

        .footer a {
            color: white;
            text-decoration: none;
            font-weight: 600;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }

            .stats {
                gap: 15px;
            }

            .main-content {
                grid-template-columns: 1fr;
            }

            .card {
                padding: 20px;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            animation: fadeInUp 0.6s ease-out;
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }

        /* Dark Mode Styles */
        .dark-mode .card {
            background: rgba(255, 255, 255, 0.05);
            color: #e0e0e0;
        }

        .dark-mode .bot-status {
            background: rgba(255, 255, 255, 0.05);
        }

        .dark-mode .status-item {
            background: rgba(255, 255, 255, 0.1);
        }

        .dark-mode .footer {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 20px;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
        }

        /* Notifications */
        .notification-container {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1000;
            max-width: 300px;
        }

        .notification {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: slideInRight 0.5s ease;
            cursor: pointer;
        }

        .notification.success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .notification.error {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Market Data Widget */
        .market-widget {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .market-item {
            text-align: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .market-item .price {
            font-size: 1.2rem;
            font-weight: bold;
            color: #4facfe;
        }

        .market-item .change {
            font-size: 0.9rem;
        }

        .market-item .change.positive {
            color: #4caf50;
        }

        .market-item .change.negative {
            color: #f44336;
        }

        /* User Dashboard */
        .user-dashboard {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .user-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .user-stat {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .user-stat h4 {
            font-size: 0.9rem;
            margin-bottom: 5px;
            color: rgba(255, 255, 255, 0.8);
        }

        .user-stat p {
            font-size: 1.2rem;
            font-weight: bold;
            color: #4facfe;
        }

        /* Achievement Badges */
        .achievements {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .badge {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #333;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .badge.locked {
            background: linear-gradient(135deg, #666 0%, #999 100%);
            opacity: 0.5;
        }

        /* Progress Bars */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #4facfe;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Sound Toggle */
        .sound-toggle {
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 16px;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .sound-toggle:hover {
            transform: scale(1.1);
        }

        .sound-toggle.muted {
            opacity: 0.5;
        }

        /* New Feature Cards Styles */
        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .feature-card:hover::before {
            left: 100%;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border-color: rgba(255,255,255,0.4);
        }

        .feature-card .icon {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .feature-card h3 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .feature-card p {
            color: rgba(255,255,255,0.8);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .feature-card .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .feature-card .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 20px;
            max-width: 700px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .modal-header h2 {
            margin: 0;
            color: #fff;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: rgba(255,255,255,0.7);
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #fff;
        }

        .modal-body {
            padding: 30px;
        }

        /* NFT Marketplace Styles */
        .nft-marketplace .marketplace-header {
            margin-bottom: 30px;
        }

        .nft-marketplace h3 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .nft-marketplace p {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
        }

        .marketplace-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .marketplace-actions .btn-primary,
        .marketplace-actions .btn-secondary {
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .marketplace-actions .btn-primary {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            border: none;
            color: white;
        }

        .marketplace-actions .btn-secondary {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
        }

        .marketplace-actions .btn-primary:hover,
        .marketplace-actions .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .nft-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .nft-item {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .nft-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
            border-color: rgba(255,255,255,0.4);
        }

        .nft-item img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .nft-item h4 {
            margin: 15px;
            color: #fff;
            font-size: 1.1rem;
        }

        .nft-item p {
            margin: 0 15px 15px;
            color: #4ecdc4;
            font-weight: bold;
            font-size: 1rem;
        }

        .nft-item .btn-primary {
            width: calc(100% - 30px);
            margin: 0 15px 15px;
            padding: 10px;
            border-radius: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nft-item .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* Token Creator Styles */
        .token-creator .creator-header {
            margin-bottom: 30px;
        }

        .token-creator h3 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .creator-form {
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #fff;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #4ecdc4;
            box-shadow: 0 0 0 2px rgba(78, 205, 196, 0.2);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .checkbox-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #fff;
            cursor: pointer;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        .creator-form .btn-primary {
            width: 100%;
            padding: 15px;
            border-radius: 25px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            border: none;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .creator-form .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        /* Global Trading Styles */
        .global-trading .trading-header {
            margin-bottom: 30px;
        }

        .global-trading h3 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .global-trading p {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
        }

        .platform-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .platform-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .platform-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
            border-color: rgba(255,255,255,0.4);
        }

        .platform-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .platform-card h4 {
            color: #fff;
            margin-bottom: 8px;
            font-size: 1.2rem;
        }

        .platform-card p {
            color: rgba(255,255,255,0.7);
            margin: 0;
        }

        .trading-tools {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .trading-tools .btn-primary,
        .trading-tools .btn-secondary {
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .trading-tools .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
        }

        .trading-tools .btn-secondary {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
        }

        .trading-tools .btn-primary:hover,
        .trading-tools .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Trading Bot Styles */
        .trading-bot {
            text-align: center;
        }

        .trading-bot h3 {
            color: #fff;
            margin-bottom: 20px;
        }

        .bot-status {
            margin: 20px 0;
        }

        .bot-status p {
            color: rgba(255,255,255,0.8);
            font-size: 1.1rem;
        }

        .bot-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .bot-controls .btn-success {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bot-controls .btn-danger {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bot-controls .btn-secondary {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bot-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .bot-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .bot-stats .stat {
            text-align: center;
            min-width: 120px;
        }

        .bot-stats .stat h4 {
            color: rgba(255,255,255,0.7);
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .bot-stats .stat p {
            color: #4ecdc4;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0;
        }

        /* Social Hub Styles */
        .social-hub .social-header {
            margin-bottom: 30px;
        }

        .social-hub h3 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .social-hub p {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
        }

        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .social-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .social-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
            border-color: rgba(255,255,255,0.4);
        }

        .social-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .social-card h4 {
            color: #fff;
            margin-bottom: 8px;
            font-size: 1.2rem;
        }

        .social-card p {
            color: rgba(255,255,255,0.7);
            margin: 0;
        }

        .social-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px solid rgba(255,255,255,0.2);
            flex-wrap: wrap;
        }

        .social-stats .stat {
            text-align: center;
            min-width: 120px;
        }

        .social-stats .stat h4 {
            color: rgba(255,255,255,0.7);
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .social-stats .stat p {
            color: #4ecdc4;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0;
        }

        /* Leaderboard Styles */
        .leaderboard {
            text-align: center;
        }

        .leaderboard h3 {
            color: #fff;
            margin-bottom: 25px;
        }

        .leaderboard-list {
            margin-top: 25px;
        }

        .leader-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            margin-bottom: 8px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .leader-item:hover {
            transform: translateX(5px);
            border-color: rgba(255,255,255,0.4);
        }

        .leader-item .rank {
            font-weight: bold;
            color: #4ecdc4;
            font-size: 1.2rem;
            min-width: 30px;
        }

        .leader-item .name {
            color: #fff;
            font-weight: 600;
            flex: 1;
            text-align: left;
        }

        .leader-item .score {
            color: #ff6b6b;
            font-weight: bold;
        }

        /* Chat Styles */
        .chat-modal {
            max-width: 500px;
        }

        .chat-modal h3 {
            color: #fff;
            margin-bottom: 20px;
            text-align: center;
        }

        .chat-messages {
            max-height: 300px;
            overflow-y: auto;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .message {
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .message:last-child {
            border-bottom: none;
        }

        .message strong {
            color: #4ecdc4;
        }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 20px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1rem;
        }

        .chat-input input:focus {
            outline: none;
            border-color: #4ecdc4;
            box-shadow: 0 0 0 2px rgba(78, 205, 196, 0.2);
        }

        .chat-input .btn-primary {
            padding: 12px 20px;
            border-radius: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-input .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* Share Achievement Styles */
        .share-achievement {
            text-align: center;
        }

        .share-achievement h3 {
            color: #fff;
            margin-bottom: 25px;
        }

        .achievement-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 25px;
        }

        .achievement-options .btn-primary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 20px;
            border-radius: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .achievement-options .btn-secondary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 20px;
            border-radius: 25px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .achievement-options button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Events Styles */
        .events-modal h3 {
            color: #fff;
            margin-bottom: 25px;
            text-align: center;
        }

        .events-list {
            margin-top: 25px;
        }

        .event-item {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .event-item:hover {
            transform: translateY(-2px);
            border-color: rgba(255,255,255,0.4);
        }

        .event-item h4 {
            color: #fff;
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .event-item p {
            color: rgba(255,255,255,0.7);
            margin: 5px 0;
        }

        .event-item .btn-primary {
            margin-top: 15px;
            padding: 10px 20px;
            border-radius: 20px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .event-item .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            z-index: 1001;
            animation: slideInRight 0.3s ease;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            max-width: 300px;
        }

        .notification.success {
            background: linear-gradient(135deg, #4CAF50, #45a049);
        }

        .notification.error {
            background: linear-gradient(135deg, #f44336, #d32f2f);
        }

        .notification.info {
            background: linear-gradient(135deg, #2196F3, #1976D2);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .feature-cards {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .platform-grid,
            .social-grid {
                grid-template-columns: 1fr;
            }

            .nft-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }

            .bot-stats,
            .social-stats {
                flex-direction: column;
                gap: 20px;
            }

            .leader-item {
                flex-direction: column;
                text-align: center;
                gap: 5px;
            }

            .chat-input {
                flex-direction: column;
            }

            .achievement-options {
                flex-direction: column;
            }

            .modal-content {
                width: 95%;
                margin: 10px;
            }

            .modal-header,
            .modal-body {
                padding: 20px;
            }
        }

        /* Disclaimer Section Styles */
        .disclaimer-section {
            margin: 40px 0;
            padding: 20px;
        }

        .disclaimer-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .disclaimer-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .disclaimer-header i {
            font-size: 2rem;
            color: #ff6b6b;
            margin-bottom: 15px;
        }

        .disclaimer-header h3 {
            color: #fff;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .disclaimer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .disclaimer-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }

        .disclaimer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            border-color: rgba(255,255,255,0.3);
        }

        .disclaimer-card h4 {
            color: #ff6b6b;
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .disclaimer-card p {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .disclaimer-card strong {
            color: #fff;
            font-weight: 600;
        }

        .disclaimer-footer {
            text-align: center;
            padding-top: 25px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .disclaimer-footer p {
            color: rgba(255,255,255,0.8);
            margin-bottom: 10px;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .disclaimer-footer em {
            color: rgba(255,255,255,0.7);
            font-style: italic;
        }

        /* Responsive Disclaimer */
        @media (max-width: 768px) {
            .disclaimer-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .disclaimer-content {
                padding: 20px;
            }

            .disclaimer-card {
                padding: 20px;
            }

            .disclaimer-header h3 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Sound Toggle -->
    <button class="sound-toggle" onclick="toggleSound()" title="Toggle Sound">
        <i class="fas fa-volume-up"></i>
    </button>

    <!-- Notifications Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <div class="container">
        <!-- Global Navigation -->
        <nav id="mainNav" style="display:flex;flex-wrap:wrap;gap:14px;align-items:center;justify-content:center;margin:15px 0 35px 0;padding:14px 20px;border-radius:60px;background:rgba(255,255,255,0.15);backdrop-filter:blur(12px);box-shadow:0 8px 24px -6px rgba(0,0,0,0.35);">
            <a href="#marketHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">Marketplace</a>
            <a href="#gamesHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">Games</a>
            <a href="#referralHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">Mint & Referral</a>
            <a href="#promoHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">Promotions</a>
            <a href="#auctionHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">Auctions</a>
            <a href="#bundleHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">Bundles</a>
            <a href="#apiHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">API Keys</a>
            <a href="#revenueHub" class="nav-link" style="color:#fff;font-weight:600;text-decoration:none;padding:8px 16px;border-radius:30px;transition:.25s">Revenue</a>
        </nav>
        <style>
            #mainNav .nav-link:hover, #mainNav .nav-link.active {background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 4px 18px -4px rgba(118,75,162,0.55)}
            section.feature-slab{margin:60px 0;padding:40px 35px;border-radius:32px;background:linear-gradient(145deg,rgba(255,255,255,0.15),rgba(255,255,255,0.05));backdrop-filter:blur(14px);box-shadow:0 25px 60px -15px rgba(0,0,0,0.45);}
            .glass-card{background:linear-gradient(145deg,rgba(255,255,255,0.25),rgba(255,255,255,0.10));padding:18px 22px;border:1px solid rgba(255,255,255,0.25);border-radius:20px;backdrop-filter:blur(12px);transition:.25s;}
            .glass-card:hover{transform:translateY(-4px);box-shadow:0 18px 40px -12px rgba(0,0,0,0.4)}
            .flex-row{display:flex;flex-wrap:wrap;gap:18px;align-items:stretch}
            .w-25{flex:1 1 240px;min-width:240px}
            .badge-chip{display:inline-block;padding:4px 10px;border-radius:18px;background:rgba(255,255,255,0.18);font-size:.7rem;letter-spacing:.5px;text-transform:uppercase;margin-right:6px;margin-bottom:6px}
            .pill-btn{border:none;background:linear-gradient(135deg,#4facfe,#00f2fe);padding:10px 20px;border-radius:30px;color:#fff;font-weight:600;cursor:pointer;box-shadow:0 8px 24px -6px rgba(0,0,0,.4);transition:.25s}
            .pill-btn.alt{background:linear-gradient(135deg,#ff6b6b,#f093fb)}
            .pill-btn.outline{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.35);backdrop-filter:blur(8px)}
            .pill-btn:hover{transform:translateY(-3px);box-shadow:0 12px 32px -8px rgba(0,0,0,.5)}
            table.slim{width:100%;border-collapse:collapse;margin-top:14px;font-size:.85rem}
            table.slim th,table.slim td{padding:6px 8px;text-align:left;border-bottom:1px solid rgba(255,255,255,.15)}
            table.slim th{font-weight:600;color:#fff}
            table.slim td{color:#e7e7e7}
            .text-accent{color:#4ecdc4;font-weight:600}
            .grid{display:grid;gap:16px}
            .grid.cols-4{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
            .mini-input{width:100%;padding:8px 10px;border-radius:12px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.25);color:#fff;font-size:.85rem}
            .mini-input:focus{outline:none;border-color:#4ecdc4;box-shadow:0 0 0 2px rgba(78,205,196,.3)}
            .section-title{font-size:2rem;font-weight:700;letter-spacing:.5px;margin-bottom:6px;color:#fff;text-shadow:0 4px 16px rgba(0,0,0,.4)}
            .muted{color:rgba(255,255,255,.7);font-size:.85rem;margin-bottom:18px}
            .tag{display:inline-block;padding:3px 9px;border-radius:14px;background:#ff6b6b;color:#fff;font-size:.65rem;font-weight:700;letter-spacing:.5px;margin-left:6px}
            @media(max-width:820px){#mainNav{border-radius:30px}.section-title{font-size:1.6rem}}
        </style>
        <!-- Header -->
        <div class="header">
            <h1>üöÄ AwesomeSauceToken</h1>
            <p>Earn Passive Income Through Automated Trading & Crypto Rewards</p>

            <div class="stats">
                <div class="stat">
                    <h3 id="totalUsers">1,247</h3>
                    <p>Active Users</p>
                </div>
                <div class="stat">
                    <h3 id="totalVolume">$2.4M</h3>
                    <p>Trading Volume</p>
                </div>
                <div class="stat">
                    <h3 id="totalProfits">$127K</h3>
                    <p>Total Profits</p>
                </div>
            </div>
        </div>

        <!-- Legal Disclaimers -->
        <div class="disclaimer-section">
            <div class="disclaimer-content">
                <div class="disclaimer-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h3>‚ö†Ô∏è Important Legal Disclaimers</h3>
                </div>

                <div class="disclaimer-grid">
                    <div class="disclaimer-card">
                        <h4>üî¥ HIGH RISK WARNING</h4>
                        <p><strong>Trading cryptocurrencies involves substantial risk of loss and is not suitable for every investor.</strong> The value of cryptocurrencies can go up or down, and you may lose money investing in them. You should carefully consider your investment objectives, level of experience, and risk appetite before investing.</p>
                    </div>

                    <div class="disclaimer-card">
                        <h4>üö´ NO FINANCIAL ADVICE</h4>
                        <p><strong>This platform does not provide financial, investment, or trading advice.</strong> All information provided is for educational and entertainment purposes only. Any decisions to buy, sell, or hold cryptocurrencies are your own responsibility.</p>
                    </div>

                    <div class="disclaimer-card">
                        <h4>‚öñÔ∏è REGULATORY COMPLIANCE</h4>
                        <p><strong>Cryptocurrency trading may be subject to legal restrictions in your jurisdiction.</strong> It is your responsibility to ensure compliance with all applicable laws and regulations in your country or region before engaging in any trading activities.</p>
                    </div>

                    <div class="disclaimer-card">
                        <h4>üîê SECURITY NOTICE</h4>
                        <p><strong>Never share your private keys, seed phrases, or wallet credentials with anyone.</strong> We will never ask for your private information. Protect your assets by using hardware wallets and enabling two-factor authentication.</p>
                    </div>

                    <div class="disclaimer-card">
                        <h4>ü§ñ AUTOMATED TRADING RISKS</h4>
                        <p><strong>Automated trading bots carry additional risks including technical failures, market volatility, and potential losses.</strong> Past performance does not guarantee future results. Always trade with funds you can afford to lose.</p>
                    </div>

                    <div class="disclaimer-card">
                        <h4>üìä PERFORMANCE CLAIMS</h4>
                        <p><strong>Any profit projections or performance claims are hypothetical and for illustrative purposes only.</strong> Actual results may vary significantly. Trading involves substantial risk and there are no guarantees of profits.</p>
                    </div>
                </div>

                <div class="disclaimer-footer">
                    <p><strong>By using this platform, you acknowledge that you have read, understood, and agree to these disclaimers.</strong></p>
                    <p><em>This platform is provided "as is" without warranties of any kind. We are not responsible for any losses incurred through the use of this platform.</em></p>
                </div>
            </div>
        </div>

        <!-- Market Data Widget -->
        <div class="market-widget">
            <h3>üìà Live Market Data</h3>
            <div class="market-grid" id="marketData">
                <div class="market-item">
                    <h4>BTC</h4>
                    <div class="price" id="btcPrice">$43,250</div>
                    <div class="change positive" id="btcChange">+2.5%</div>
                </div>
                <div class="market-item">
                    <h4>ETH</h4>
                    <div class="price" id="ethPrice">$2,650</div>
                    <div class="change positive" id="ethChange">+1.8%</div>
                </div>
                <div class="market-item">
                    <h4>AST</h4>
                    <div class="price" id="astPrice">$0.042</div>
                    <div class="change positive" id="astChange">+15.2%</div>
                </div>
                <div class="market-item">
                    <h4>USDT</h4>
                    <div class="price" id="usdtPrice">$1.00</div>
                    <div class="change neutral" id="usdtChange">0.0%</div>
                </div>
            </div>
        </div>

        <!-- User Dashboard -->
        <div class="user-dashboard">
            <h3>üë§ Your Dashboard</h3>
            <div class="user-stats">
                <div class="user-stat">
                    <h4>Your Rank</h4>
                    <p id="userRank">#247</p>
                </div>
                <div class="user-stat">
                    <h4>Total Earned</h4>
                    <p id="userEarned">$127.50</p>
                </div>
                <div class="user-stat">
                    <h4>Games Played</h4>
                    <p id="userGames">23</p>
                </div>
                <div class="user-stat">
                    <h4>Referral Bonus</h4>
                    <p id="userReferrals">$45.20</p>
                </div>
                <div class="user-stat">
                    <h4>Level</h4>
                    <p id="userLevel">7</p>
                </div>
                <div class="user-stat">
                    <h4>Streak</h4>
                    <p id="userStreak">5 days</p>
                </div>
            </div>

            <div class="achievements">
                <span class="badge">üéØ First Trade</span>
                <span class="badge">üí∞ $100 Earned</span>
                <span class="badge">üéÆ Game Master</span>
                <span class="badge">üë• 5 Referrals</span>
                <span class="badge locked">üèÜ Champion</span>
                <span class="badge locked">üöÄ Millionaire</span>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="levelProgress" style="width: 70%"></div>
            </div>
            <p style="text-align: center; font-size: 0.9rem; color: rgba(255,255,255,0.8);">
                70% to Level 8 - Play more games to level up!
            </p>
        </div>

        <!-- Bot Status -->
        <div class="bot-status">
            <h3>ü§ñ Trading Bot Status</h3>
            <div class="status-grid">
                <div class="status-item">
                    <h4>Bot Status</h4>
                    <p id="botStatusText">Not Started</p>
                </div>
                <div class="status-item">
                    <h4>Trades Today</h4>
                    <p id="tradeCount">0</p>
                </div>
                <div class="status-item">
                    <h4>Today's Profit</h4>
                    <p id="totalProfit">$0.00</p>
                </div>
                <div class="status-item">
                    <h4>Success Rate</h4>
                    <p id="successRate">0%</p>
                </div>
            </div>

            <div id="bot-controls">
                <button onclick="startBot()" id="startBotBtn" class="btn btn-success" style="margin-right: 10px;">Start Trading Bot</button>
                <button onclick="stopBot()" id="stopBotBtn" class="btn btn-secondary" style="display:none; margin-right: 10px;">Stop Trading Bot</button>
                <button onclick="checkBotStatus()" id="statusBotBtn" class="btn">Check Status</button>
            </div>

            <!-- Wallet Connection Section -->
            <div id="wallet-section" style="text-align: center; margin: 20px 0; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                <h3 style="color: white; margin-bottom: 10px;"><i class="fas fa-wallet"></i> Connect Your Wallet</h3>
                <p style="color: rgba(255,255,255,0.8); margin-bottom: 15px;">Connect your Coinbase Wallet, MetaMask, or any Web3 wallet to start earning!</p>
                <button onclick="connectWallet()" id="connectWalletBtn" class="btn btn-primary" style="background: linear-gradient(45deg, #ff6b6b, #4ecdc4); border: none; padding: 12px 30px; font-size: 1.1rem;">
                    <i class="fas fa-plug"></i> Connect Wallet
                </button>
                <div id="walletStatus" style="margin-top: 10px; color: rgba(255,255,255,0.9); font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> Not connected - Click above to connect
                </div>
            </div>
        </div>

        <!-- Main Features -->
        <div class="main-content">
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-wallet"></i>
                </div>
                <h3>Premium Subscription</h3>
                <p>Unlock exclusive features and earn higher rewards. Pay with any cryptocurrency - we handle the conversion automatically.</p>
                <p style="color: #ff6b6b; font-size: 0.9rem;"><i class="fas fa-info-circle"></i> Gas fees apply for transactions</p>
                <button onclick="subscribe()" class="btn">Subscribe Now</button>
            </div>

            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-gamepad"></i>
                </div>
                <h3>Play & Earn Games</h3>
                <p>Enjoy exciting crypto games and earn tokens while having fun. Spin the wheel, play trivia, and compete with others!</p>
                <button onclick="playGame()" class="btn btn-secondary">Start Playing</button>
            </div>

            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>Automated Trading</h3>
                <p>Our AI-powered trading bot works 24/7 to generate passive income. Set it and forget it while profits accumulate automatically.</p>
                <button onclick="startBot()" class="btn">Activate Bot</button>
            </div>

            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <h3>Affiliate Program</h3>
                <p>Earn commissions by referring friends and family. Share your unique link and get paid for every successful referral.</p>
                <button onclick="showAffiliate()" class="btn">Get Affiliate Link</button>
            </div>

            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-palette"></i>
                </div>
                <h3>NFT Marketplace</h3>
                <p>Create, mint, buy, and sell NFTs on our global marketplace. Cross-platform listings for maximum exposure and sales.</p>
                <button onclick="openNFTMarketplace()" class="btn btn-primary">Explore NFTs</button>
            </div>

            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <h3>Token Creator</h3>
                <p>Launch your own tokens and coins with our easy-to-use creator. Full DeFi integration and automated liquidity.</p>
                <button onclick="openTokenCreator()" class="btn btn-success">Create Token</button>
            </div>

            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-globe"></i>
                </div>
                <h3>Global Trading</h3>
                <p>Trade across multiple platforms with cross-chain capabilities. Available in 50+ languages with real-time translation.</p>
                <button onclick="openGlobalTrading()" class="btn btn-info">Trade Globally</button>
            </div>

            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-share-alt"></i>
                </div>
                <h3>Social Hub</h3>
                <p>Connect with traders worldwide. Share strategies, join communities, and participate in global crypto discussions.</p>
                <button onclick="openSocialHub()" class="btn btn-warning">Join Community</button>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><i class="fas fa-shield-alt"></i> Secure ‚Ä¢ Transparent ‚Ä¢ Decentralized</p>
            <p>Domain: <a href="https://www.awesomesaucetoken.world">www.awesomesaucetoken.world</a> | SSL Active | Netlify Hosted</p>
            <p><a href="/troubleshooting.html" style="color: #4facfe;">üîß Having Issues? Check Troubleshooting Guide</a> | <a href="#" onclick="showReportForm()" style="color: #ff6b6b;">üìù Report an Issue</a></p>
            <p><small>¬© 2025 AwesomeSauceToken. All rights reserved.</small></p>
        </div>

        <!-- MARKETPLACE HUB -->
        <section id="marketHub" class="feature-slab">
            <h2 class="section-title">Marketplace Hub <span class="tag">LIVE</span></h2>
            <p class="muted">Discover internal & aggregated listings, create your own, and boost visibility.</p>
            <div class="flex-row">
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Session / Auth</h4>
                    <p class="muted">Connect & sign a nonce to unlock authenticated actions.</p>
                    <button class="pill-btn" onclick="authFlow()" id="authBtn">Authenticate</button>
                    <div id="authStatus" style="margin-top:8px;font-size:.7rem;color:#4ecdc4"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Create Listing</h4>
                    <input class="mini-input" placeholder="Title" id="newListingTitle"/>
                    <input class="mini-input" placeholder="Price (ETH)" id="newListingPrice"/>
                    <input class="mini-input" placeholder="Description" id="newListingDesc"/>
                    <button class="pill-btn alt" style="margin-top:6px" onclick="createUserListing()">Submit</button>
                    <div id="listingCreateMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Aggregate Fetch</h4>
                    <div style="display:flex;gap:4px;margin-bottom:4px"><input class="mini-input" id="aggLimit" placeholder="Limit (max 100)" value="25"/><input class="mini-input" id="aggPlatforms" placeholder="internal,reservoir,opensea" value="internal,reservoir,opensea"/></div>
                    <button class="pill-btn outline" onclick="loadAggregate()">Load Listings</button>
                    <div style="margin-top:8px;font-size:.65rem" id="aggMeta"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Featured & Sponsored</h4>
                    <input class="mini-input" id="featureListingId" placeholder="Listing ID"/>
                    <input class="mini-input" id="featureHours" placeholder="Hours (24)"/>
                    <button class="pill-btn" style="margin-top:6px" onclick="featureListing()">Feature</button>
                    <button class="pill-btn outline" style="margin-top:6px" onclick="buySponsored()">Buy Sponsored Slot</button>
                    <div id="promoMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
            </div>
            <div class="glass-card" style="margin-top:22px">
                <h4 style="margin:0 0 10px;color:#fff">Listings (Aggregated)</h4>
                <div style="overflow:auto;max-height:380px;border:1px solid rgba(255,255,255,.15);border-radius:14px;padding:8px;background:rgba(0,0,0,.15)" id="aggregateContainer">Load to view...</div>
            </div>
        </section>

        <!-- GAMES HUB -->
        <section id="gamesHub" class="feature-slab">
            <h2 class="section-title">Games & Credits</h2>
            <p class="muted">Acquire credits, play Coinflip or Wheel, open mystery boxes.</p>
            <div class="flex-row">
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Credit Packs</h4>
                    <button class="pill-btn" onclick="loadCreditPacks()">Load Packs</button>
                    <div id="creditPacks" style="margin-top:8px;font-size:.7rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Play Coinflip</h4>
                    <input class="mini-input" id="cfChoice" placeholder="heads or tails"/>
                    <input class="mini-input" id="cfWager" placeholder="Wager credits"/>
                    <button class="pill-btn alt" onclick="playCoinflip()">Flip</button>
                    <div id="coinflipMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Spin Wheel</h4>
                    <input class="mini-input" id="wheelWager" placeholder="Wager credits"/>
                    <button class="pill-btn" onclick="spinWheel()">Spin</button>
                    <div id="wheelMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0 0 6px;color:#fff">Mystery Boxes</h4>
                    <button class="pill-btn outline" onclick="loadBoxes()">List Boxes</button>
                    <input class="mini-input" id="boxType" placeholder="basic / premium"/>
                    <button class="pill-btn alt" onclick="openBox()">Open Box</button>
                    <div id="boxMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
            </div>
            <div class="glass-card" style="margin-top:22px">
                <h4 style="margin:0 0 10px;color:#fff">Leaderboard (Credits)</h4>
                <div id="leaderboardCredits" style="font-size:.7rem">(coming: fetch /api/games/leaderboard)</div>
            </div>
        </section>

        <!-- REFERRAL & MINT HUB -->
        <section id="referralHub" class="feature-slab">
            <h2 class="section-title">Free Mint & Referral</h2>
            <p class="muted">Claim your access badge, register & apply referral codes, monitor earnings.</p>
            <div class="flex-row">
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Free Mint</h4>
                    <button class="pill-btn" onclick="freeMint()">Claim Badge</button>
                    <div id="mintMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Register Code</h4>
                    <input class="mini-input" id="refCodeReg" placeholder="desired code"/>
                    <button class="pill-btn alt" onclick="registerReferral()">Register</button>
                    <div id="refRegMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Apply Code</h4>
                    <input class="mini-input" id="refCodeApply" placeholder="code to apply"/>
                    <button class="pill-btn outline" onclick="applyReferral()">Apply</button>
                    <div id="refApplyMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Earnings</h4>
                    <button class="pill-btn" onclick="loadReferralEarnings()">Refresh</button>
                    <div id="refEarnMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
            </div>
        </section>

        <!-- PROMOTIONS HUB -->
        <section id="promoHub" class="feature-slab">
            <h2 class="section-title">Promotions & Visibility</h2>
            <p class="muted">Boost your listings visibility instantly with featured & sponsored placements.</p>
            <div class="glass-card">
                <button class="pill-btn" onclick="loadSponsored()">Refresh Sponsored Slots</button>
                <div id="sponsoredSlots" style="margin-top:10px;font-size:.7rem"></div>
            </div>
        </section>

        <!-- AUCTIONS HUB -->
        <section id="auctionHub" class="feature-slab">
            <h2 class="section-title">Auctions</h2>
            <p class="muted">Create, bid, and finalize timed auctions.</p>
            <div class="flex-row">
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Create Auction</h4>
                    <input class="mini-input" id="aucTitle" placeholder="Title"/>
                    <input class="mini-input" id="aucMinBid" placeholder="Min Bid ETH"/>
                    <input class="mini-input" id="aucDuration" placeholder="Duration (min)"/>
                    <button class="pill-btn" onclick="createAuction()">Create</button>
                    <div id="aucCreateMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Bid / Finalize</h4>
                    <input class="mini-input" id="aucId" placeholder="Auction ID"/>
                    <input class="mini-input" id="aucBidAmount" placeholder="Bid ETH"/>
                    <button class="pill-btn alt" onclick="bidAuction()">Bid</button>
                    <button class="pill-btn outline" onclick="finalizeAuction()">Finalize</button>
                    <div id="aucBidMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25" style="flex:2 1 400px">
                    <h4 style="margin:0 0 6px;color:#fff">Active Auctions</h4>
                    <div id="activeAuctions" style="max-height:300px;overflow:auto;font-size:.65rem"></div>
                </div>
            </div>
        </section>

        <!-- BUNDLES HUB -->
        <section id="bundleHub" class="feature-slab">
            <h2 class="section-title">Bundles</h2>
            <p class="muted">Combine multiple listings into a single purchase.</p>
            <div class="flex-row">
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Create Bundle</h4>
                    <input class="mini-input" id="bundleListingIds" placeholder="listing1,listing2"/>
                    <input class="mini-input" id="bundlePrice" placeholder="Price ETH"/>
                    <button class="pill-btn" onclick="createBundle()">Create</button>
                    <div id="bundleCreateMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Purchase Bundle</h4>
                    <input class="mini-input" id="bundleIdBuy" placeholder="Bundle ID"/>
                    <button class="pill-btn alt" onclick="purchaseBundle()">Purchase</button>
                    <div id="bundleBuyMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card" style="flex:2 1 400px">
                    <h4 style="margin:0 0 6px;color:#fff">Active Bundles</h4>
                    <div id="activeBundles" style="max-height:260px;overflow:auto;font-size:.65rem"></div>
                </div>
            </div>
        </section>

        <!-- API KEYS HUB -->
        <section id="apiHub" class="feature-slab">
            <h2 class="section-title">API Keys</h2>
            <p class="muted">Issue keys and monitor usage quotas.</p>
            <div class="flex-row">
                <div class="glass-card w-25">
                    <h4 style="margin:0;color:#fff">Issue Key</h4>
                    <button class="pill-btn" onclick="issueKey()">Issue</button>
                    <div id="issueKeyMsg" style="margin-top:6px;font-size:.65rem"></div>
                </div>
                <div class="glass-card" style="flex:2 1 400px">
                    <h4 style="margin:0 0 6px;color:#fff">My Keys</h4>
                    <div id="apiKeysList" style="font-size:.65rem"></div>
                </div>
            </div>
        </section>

        <!-- REVENUE HUB -->
        <section id="revenueHub" class="feature-slab">
            <h2 class="section-title">Revenue Dashboard</h2>
            <p class="muted">Platform-level fee streams (for owner visibility).</p>
            <div class="glass-card">
                <button class="pill-btn" onclick="loadRevenue()">Refresh</button>
                <div id="revenueSummary" style="margin-top:10px;font-size:.7rem"></div>
            </div>
        </section>

        <!-- AI Monetization & Live Events Panel -->
        <div id="aiMonetizationPanel" class="card" style="background:#0d1117;color:#eee;">
            <h3 style="margin-top:0;">AI Monetization Live</h3>
            <div style="display:flex;gap:20px;flex-wrap:wrap;">
                <div style="flex:1;min-width:200px;">
                    <h4>Dynamic Rates</h4>
                    <div id="dynRates">Loading...</div>
                    <button onclick="forceAiAdjust()" class="pill-btn outline" style="margin-top:8px;">Force Re‚Äëevaluate</button>
                    <button onclick="refreshAiPanels()" class="pill-btn" style="margin-top:8px;background:#4ecdc4;">Refresh All</button>
                </div>
                <div style="flex:2;min-width:260px;">
                    <h4>Suggestions (AI)</h4>
                    <ul id="aiSuggestions" style="list-style:disc;padding-left:20px;font-size:0.75rem;max-height:160px;overflow:auto;"></ul>
                </div>
                <div style="flex:2;min-width:260px;">
                    <h4>Recent Pricing Changes</h4>
                    <div id="pricingHistory" style="max-height:160px;overflow:auto;font-size:0.7rem;font-family:monospace;"></div>
                </div>
                <div style="flex:2;min-width:260px;">
                    <h4>Monetization Plan</h4>
                    <ul id="aiPlan" style="list-style:disc;padding-left:18px;font-size:0.7rem;max-height:160px;overflow:auto;"></ul>
                    <button onclick="loadMonetizationPlan()" class="pill-btn outline" style="margin-top:6px;">Generate Plan</button>
                </div>
            </div>
            <hr style="margin:18px 0;border-color:#222;"/>
            <div style="display:flex;flex-wrap:wrap;gap:18px;">
                <div style="flex:1;min-width:260px;">
                    <h4>Listing Recommendations</h4>
                    <button onclick="loadListingRecs()" class="pill-btn outline" style="margin-bottom:6px;">Load Recs</button>
                    <ul id="listingRecs" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
                </div>
                <div style="flex:1;min-width:260px;">
                    <h4>Auction Suggestions</h4>
                    <button onclick="loadAuctionSuggestions()" class="pill-btn outline" style="margin-bottom:6px;">Load Auction AI</button>
                    <ul id="auctionSuggestions" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
                </div>
                <div style="flex:1;min-width:260px;">
                    <h4>Referral Optimization</h4>
                    <button onclick="loadReferralSuggestion()" class="pill-btn outline" style="margin-bottom:6px;">Load Referral AI</button>
                    <div id="referralSuggestion" style="font-size:0.65rem;max-height:140px;overflow:auto;background:#161b22;padding:6px;border-radius:8px;"></div>
                </div>
                <div style="flex:1;min-width:260px;">
                    <h4>Anomalies</h4>
                    <button onclick="loadAnomalyReport()" class="pill-btn outline" style="margin-bottom:6px;">Scan Now</button>
                    <ul id="anomalyList" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
                </div>
            </div>
            <hr style="margin:18px 0;border-color:#222;"/>
            <div style="display:flex;flex-wrap:wrap;gap:18px;">
                <div style="flex:1;min-width:300px;">
                    <h4>Featured Rate History</h4>
                    <canvas id="featuredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
                </div>
                <div style="flex:1;min-width:300px;">
                    <h4>Sponsored Rate History</h4>
                    <canvas id="sponsoredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
                </div>
                <div style="flex:1;min-width:300px;">
                    <h4>Credit Multiplier History</h4>
                    <canvas id="creditChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
                </div>
            </div>
            <h4 style="margin-top:24px;">Live Event Stream</h4>
            <div id="eventStream" style="background:#161b22;padding:10px;border-radius:8px;max-height:200px;overflow:auto;font-size:0.65rem;font-family:monospace;"></div>
        </div>

        <!-- Advanced AI Analytics Dashboard -->
        <div class="card" style="background:#0d1117;color:#eee;margin-top:20px;">
            <h3 style="margin-top:0;color:#4ecdc4;">üìä Advanced AI Analytics</h3>
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;">
                <div style="background:#161b22;padding:15px;border-radius:12px;">
                    <h4 style="color:#f39c12;">Revenue Optimization</h4>
                    <canvas id="revenue-chart" height="80" style="width:100%;"></canvas>
                    <p style="font-size:0.8rem;margin:8px 0 0;">24h Change: <span id="revenue-change" style="color:#4caf50;">+12.5%</span></p>
                </div>
                <div style="background:#161b22;padding:15px;border-radius:12px;">
                    <h4 style="color:#9b59b6;">Conversion Rate</h4>
                    <canvas id="conversion-chart" height="80" style="width:100%;"></canvas>
                    <p style="font-size:0.8rem;margin:8px 0 0;">Current: <span id="conversion-rate" style="color:#3498db;">8.7%</span></p>
                </div>
                <div style="background:#161b22;padding:15px;border-radius:12px;">
                    <h4 style="color:#e74c3c;">AI Confidence</h4>
                    <div id="confidence-gauge" style="height:80px;display:flex;align-items:center;justify-content:center;">
                        <div style="width:60px;height:60px;border:8px solid #333;border-top:8px solid #4caf50;border-radius:50%;animation:spin 2s linear infinite;"></div>
                    </div>
                    <p style="font-size:0.8rem;margin:8px 0 0;">Score: <span id="confidence-score" style="color:#4caf50;">94%</span></p>
                </div>
                <div style="background:#161b22;padding:15px;border-radius:12px;">
                    <h4 style="color:#1abc9c;">User Engagement</h4>
                    <canvas id="engagement-trend" height="80" style="width:100%;"></canvas>
                    <p style="font-size:0.8rem;margin:8px 0 0;">Trend: <span id="engagement-direction" style="color:#4caf50;">Rising</span></p>
                </div>
            </div>
        </div>

        <!-- AI Strategy Generator -->
        <div class="card" style="background:#0d1117;color:#eee;margin-top:20px;">
            <h3 style="margin-top:0;color:#f39c12;">üß† AI Strategy Generator</h3>
            <div style="display:flex;gap:20px;flex-wrap:wrap;">
                <div style="flex:1;min-width:300px;">
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:15px;">
                        <div>
                            <label style="display:block;margin-bottom:5px;font-size:0.9rem;">Risk Tolerance:</label>
                            <select id="risk-tolerance" style="width:100%;padding:8px;background:#161b22;color:#eee;border:1px solid #333;border-radius:6px;">
                                <option value="conservative">Conservative</option>
                                <option value="moderate" selected>Moderate</option>
                                <option value="aggressive">Aggressive</option>
                            </select>
                        </div>
                        <div>
                            <label style="display:block;margin-bottom:5px;font-size:0.9rem;">Investment Goal:</label>
                            <select id="investment-goal" style="width:100%;padding:8px;background:#161b22;color:#eee;border:1px solid #333;border-radius:6px;">
                                <option value="income">Steady Income</option>
                                <option value="growth" selected>Long-term Growth</option>
                                <option value="quick">Quick Profits</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label style="display:block;margin-bottom:5px;font-size:0.9rem;">Market Focus:</label>
                        <select id="market-focus" style="width:100%;padding:8px;background:#161b22;color:#eee;border:1px solid #333;border-radius:6px;margin-bottom:15px;">
                            <option value="tokens">Tokens</option>
                            <option value="nfts">NFTs</option>
                            <option value="defi" selected>DeFi</option>
                            <option value="mixed">Mixed Portfolio</option>
                        </select>
                    </div>
                    <button onclick="generateStrategy()" class="pill-btn" style="background:#4ecdc4;width:100%;">üéØ Generate AI Strategy</button>
                </div>
                <div style="flex:2;min-width:400px;">
                    <div id="generated-strategy" style="background:#161b22;padding:15px;border-radius:8px;min-height:200px;">
                        <div style="text-align:center;color:#666;padding:50px 20px;">
                            <div style="font-size:2rem;">üéØ</div>
                            <p>Configure your preferences and generate an AI-powered trading strategy</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Anomaly Detection Center -->
        <div class="card" style="background:#0d1117;color:#eee;margin-top:20px;">
            <h3 style="margin-top:0;color:#e74c3c;">üõ°Ô∏è AI Security & Anomaly Detection</h3>
            <div style="display:flex;gap:20px;flex-wrap:wrap;margin-bottom:20px;">
                <div style="flex:1;min-width:250px;">
                    <div id="security-status" style="display:flex;align-items:center;background:#161b22;padding:15px;border-radius:8px;">
                        <div style="width:12px;height:12px;background:#4caf50;border-radius:50%;margin-right:10px;animation:pulse 2s infinite;"></div>
                        <span style="font-weight:bold;">All Systems Normal</span>
                    </div>
                    <div style="margin-top:15px;">
                        <h4 style="margin:0 0 10px;">Risk Assessment</h4>
                        <div style="margin-bottom:8px;">
                            <label style="font-size:0.8rem;">Fraud Risk:</label>
                            <div style="background:#333;height:8px;border-radius:4px;overflow:hidden;">
                                <div id="fraud-risk" style="width:5%;height:100%;background:#4caf50;transition:all 0.3s;"></div>
                            </div>
                        </div>
                        <div style="margin-bottom:8px;">
                            <label style="font-size:0.8rem;">Market Manipulation:</label>
                            <div style="background:#333;height:8px;border-radius:4px;overflow:hidden;">
                                <div id="manipulation-risk" style="width:3%;height:100%;background:#4caf50;transition:all 0.3s;"></div>
                            </div>
                        </div>
                        <div>
                            <label style="font-size:0.8rem;">Suspicious Activity:</label>
                            <div style="background:#333;height:8px;border-radius:4px;overflow:hidden;">
                                <div id="suspicious-activity" style="width:8%;height:100%;background:#f39c12;transition:all 0.3s;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="flex:2;min-width:400px;">
                    <h4 style="margin:0 0 10px;">Recent Detections</h4>
                    <div id="recent-anomalies" style="background:#161b22;padding:15px;border-radius:8px;max-height:200px;overflow:auto;font-size:0.8rem;">
                        <div style="color:#4caf50;margin-bottom:8px;">‚úì Normal trading patterns detected</div>
                        <div style="color:#4caf50;margin-bottom:8px;">‚úì Price movements within expected ranges</div>
                        <div style="color:#f39c12;margin-bottom:8px;">‚ö† Unusual volume spike detected at 14:32 (investigating)</div>
                        <div style="color:#4caf50;margin-bottom:8px;">‚úì User behavior patterns normal</div>
                        <div style="color:#4caf50;">‚úì No suspicious wallet connections found</div>
                    </div>
                </div>
            </div>
            <button onclick="runFullAnomalyScan()" class="pill-btn outline" style="margin-right:10px;">üîç Run Full Scan</button>
            <button onclick="loadAnomalyReport()" class="pill-btn outline">üìä Generate Report</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <div id="fairnessBox" class="card" style="margin:30px 0; padding:20px; background:rgba(0,0,0,0.6); color:#fff; font-size:0.9rem;">Fairness: loading...</div>
    <!-- AI Monetization & Live Events Panel -->
    <div id="aiMonetizationPanel" class="card" style="background:#0d1117;color:#eee;">
        <h3 style="margin-top:0;">AI Monetization Live</h3>
        <div style="display:flex;gap:20px;flex-wrap:wrap;">
            <div style="flex:1;min-width:200px;">
                <h4>Dynamic Rates</h4>
                <div id="dynRates">Loading...</div>
                <button onclick="forceAiAdjust()" class="pill-btn outline" style="margin-top:8px;">Force Re‚Äëevaluate</button>
                <button onclick="refreshAiPanels()" class="pill-btn" style="margin-top:8px;background:#4ecdc4;">Refresh All</button>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Suggestions (AI)</h4>
                <ul id="aiSuggestions" style="list-style:disc;padding-left:20px;font-size:0.75rem;max-height:160px;overflow:auto;"></ul>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Recent Pricing Changes</h4>
                <div id="pricingHistory" style="max-height:160px;overflow:auto;font-size:0.7rem;font-family:monospace;"></div>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Monetization Plan</h4>
                <ul id="aiPlan" style="list-style:disc;padding-left:18px;font-size:0.7rem;max-height:160px;overflow:auto;"></ul>
                <button onclick="loadMonetizationPlan()" class="pill-btn outline" style="margin-top:6px;">Generate Plan</button>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:260px;">
                <h4>Listing Recommendations</h4>
                <button onclick="loadListingRecs()" class="pill-btn outline" style="margin-bottom:6px;">Load Recs</button>
                <ul id="listingRecs" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Auction Suggestions</h4>
                <button onclick="loadAuctionSuggestions()" class="pill-btn outline" style="margin-bottom:6px;">Load Auction AI</button>
                <ul id="auctionSuggestions" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Referral Optimization</h4>
                <button onclick="loadReferralSuggestion()" class="pill-btn outline" style="margin-bottom:6px;">Load Referral AI</button>
                <div id="referralSuggestion" style="font-size:0.65rem;max-height:140px;overflow:auto;background:#161b22;padding:6px;border-radius:8px;"></div>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Anomalies</h4>
                <button onclick="loadAnomalyReport()" class="pill-btn outline" style="margin-bottom:6px;">Scan Now</button>
                <ul id="anomalyList" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:300px;">
                <h4>Featured Rate History</h4>
                <canvas id="featuredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Sponsored Rate History</h4>
                <canvas id="sponsoredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Credit Multiplier History</h4>
                <canvas id="creditChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
        </div>
        <h4 style="margin-top:24px;">Live Event Stream</h4>
        <div id="eventStream" style="background:#161b22;padding:10px;border-radius:8px;max-height:200px;overflow:auto;font-size:0.65rem;font-family:monospace;"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <div id="fairnessBox" class="card" style="margin:30px 0; padding:20px; background:rgba(0,0,0,0.6); color:#fff; font-size:0.9rem;">Fairness: loading...</div>
    <!-- AI Monetization & Live Events Panel -->
    <div id="aiMonetizationPanel" class="card" style="background:#0d1117;color:#eee;">
        <h3 style="margin-top:0;">AI Monetization Live</h3>
        <div style="display:flex;gap:20px;flex-wrap:wrap;">
            <div style="flex:1;min-width:200px;">
                <h4>Dynamic Rates</h4>
                <div id="dynRates">Loading...</div>
                <button onclick="forceAiAdjust()" class="pill-btn outline" style="margin-top:8px;">Force Re‚Äëevaluate</button>
                <button onclick="refreshAiPanels()" class="pill-btn" style="margin-top:8px;background:#4ecdc4;">Refresh All</button>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Suggestions (AI)</h4>
                <ul id="aiSuggestions" style="list-style:disc;padding-left:20px;font-size:0.75rem;max-height:160px;overflow:auto;"></ul>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Recent Pricing Changes</h4>
                <div id="pricingHistory" style="max-height:160px;overflow:auto;font-size:0.7rem;font-family:monospace;"></div>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Monetization Plan</h4>
                <ul id="aiPlan" style="list-style:disc;padding-left:18px;font-size:0.7rem;max-height:160px;overflow:auto;"></ul>
                <button onclick="loadMonetizationPlan()" class="pill-btn outline" style="margin-top:6px;">Generate Plan</button>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:260px;">
                <h4>Listing Recommendations</h4>
                <button onclick="loadListingRecs()" class="pill-btn outline" style="margin-bottom:6px;">Load Recs</button>
                <ul id="listingRecs" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Auction Suggestions</h4>
                <button onclick="loadAuctionSuggestions()" class="pill-btn outline" style="margin-bottom:6px;">Load Auction AI</button>
                <ul id="auctionSuggestions" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Referral Optimization</h4>
                <button onclick="loadReferralSuggestion()" class="pill-btn outline" style="margin-bottom:6px;">Load Referral AI</button>
                <div id="referralSuggestion" style="font-size:0.65rem;max-height:140px;overflow:auto;background:#161b22;padding:6px;border-radius:8px;"></div>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Anomalies</h4>
                <button onclick="loadAnomalyReport()" class="pill-btn outline" style="margin-bottom:6px;">Scan Now</button>
                <ul id="anomalyList" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:300px;">
                <h4>Featured Rate History</h4>
                <canvas id="featuredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Sponsored Rate History</h4>
                <canvas id="sponsoredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Credit Multiplier History</h4>
                <canvas id="creditChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
        </div>
        <h4 style="margin-top:24px;">Live Event Stream</h4>
        <div id="eventStream" style="background:#161b22;padding:10px;border-radius:8px;max-height:200px;overflow:auto;font-size:0.65rem;font-family:monospace;"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <div id="fairnessBox" class="card" style="margin:30px 0; padding:20px; background:rgba(0,0,0,0.6); color:#fff; font-size:0.9rem;">Fairness: loading...</div>
    <!-- AI Monetization & Live Events Panel -->
    <div id="aiMonetizationPanel" class="card" style="background:#0d1117;color:#eee;">
        <h3 style="margin-top:0;">AI Monetization Live</h3>
        <div style="display:flex;gap:20px;flex-wrap:wrap;">
            <div style="flex:1;min-width:200px;">
                <h4>Dynamic Rates</h4>
                <div id="dynRates">Loading...</div>
                <button onclick="forceAiAdjust()" class="pill-btn outline" style="margin-top:8px;">Force Re‚Äëevaluate</button>
                <button onclick="refreshAiPanels()" class="pill-btn" style="margin-top:8px;background:#4ecdc4;">Refresh All</button>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Suggestions (AI)</h4>
                <ul id="aiSuggestions" style="list-style:disc;padding-left:20px;font-size:0.75rem;max-height:160px;overflow:auto;"></ul>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Recent Pricing Changes</h4>
                <div id="pricingHistory" style="max-height:160px;overflow:auto;font-size:0.7rem;font-family:monospace;"></div>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Monetization Plan</h4>
                <ul id="aiPlan" style="list-style:disc;padding-left:18px;font-size:0.7rem;max-height:160px;overflow:auto;"></ul>
                <button onclick="loadMonetizationPlan()" class="pill-btn outline" style="margin-top:6px;">Generate Plan</button>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:260px;">
                <h4>Listing Recommendations</h4>
                <button onclick="loadListingRecs()" class="pill-btn outline" style="margin-bottom:6px;">Load Recs</button>
                <ul id="listingRecs" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Auction Suggestions</h4>
                <button onclick="loadAuctionSuggestions()" class="pill-btn outline" style="margin-bottom:6px;">Load Auction AI</button>
                <ul id="auctionSuggestions" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Referral Optimization</h4>
                <button onclick="loadReferralSuggestion()" class="pill-btn outline" style="margin-bottom:6px;">Load Referral AI</button>
                <div id="referralSuggestion" style="font-size:0.65rem;max-height:140px;overflow:auto;background:#161b22;padding:6px;border-radius:8px;"></div>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Anomalies</h4>
                <button onclick="loadAnomalyReport()" class="pill-btn outline" style="margin-bottom:6px;">Scan Now</button>
                <ul id="anomalyList" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:300px;">
                <h4>Featured Rate History</h4>
                <canvas id="featuredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Sponsored Rate History</h4>
                <canvas id="sponsoredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Credit Multiplier History</h4>
                <canvas id="creditChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
        </div>
        <h4 style="margin-top:24px;">Live Event Stream</h4>
        <div id="eventStream" style="background:#161b22;padding:10px;border-radius:8px;max-height:200px;overflow:auto;font-size:0.65rem;font-family:monospace;"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <div id="fairnessBox" class="card" style="margin:30px 0; padding:20px; background:rgba(0,0,0,0.6); color:#fff; font-size:0.9rem;">Fairness: loading...</div>
    <!-- AI Monetization & Live Events Panel -->
    <div id="aiMonetizationPanel" class="card" style="background:#0d1117;color:#eee;">
        <h3 style="margin-top:0;">AI Monetization Live</h3>
        <div style="display:flex;gap:20px;flex-wrap:wrap;">
            <div style="flex:1;min-width:200px;">
                <h4>Dynamic Rates</h4>
                <div id="dynRates">Loading...</div>
                <button onclick="forceAiAdjust()" class="pill-btn outline" style="margin-top:8px;">Force Re‚Äëevaluate</button>
                <button onclick="refreshAiPanels()" class="pill-btn" style="margin-top:8px;background:#4ecdc4;">Refresh All</button>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Suggestions (AI)</h4>
                <ul id="aiSuggestions" style="list-style:disc;padding-left:20px;font-size:0.75rem;max-height:160px;overflow:auto;"></ul>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Recent Pricing Changes</h4>
                <div id="pricingHistory" style="max-height:160px;overflow:auto;font-size:0.7rem;font-family:monospace;"></div>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Monetization Plan</h4>
                <ul id="aiPlan" style="list-style:disc;padding-left:18px;font-size:0.7rem;max-height:160px;overflow:auto;"></ul>
                <button onclick="loadMonetizationPlan()" class="pill-btn outline" style="margin-top:6px;">Generate Plan</button>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:260px;">
                <h4>Listing Recommendations</h4>
                <button onclick="loadListingRecs()" class="pill-btn outline" style="margin-bottom:6px;">Load Recs</button>
                <ul id="listingRecs" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Auction Suggestions</h4>
                <button onclick="loadAuctionSuggestions()" class="pill-btn outline" style="margin-bottom:6px;">Load Auction AI</button>
                <ul id="auctionSuggestions" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Referral Optimization</h4>
                <button onclick="loadReferralSuggestion()" class="pill-btn outline" style="margin-bottom:6px;">Load Referral AI</button>
                <div id="referralSuggestion" style="font-size:0.65rem;max-height:140px;overflow:auto;background:#161b22;padding:6px;border-radius:8px;"></div>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Anomalies</h4>
                <button onclick="loadAnomalyReport()" class="pill-btn outline" style="margin-bottom:6px;">Scan Now</button>
                <ul id="anomalyList" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:300px;">
                <h4>Featured Rate History</h4>
                <canvas id="featuredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Sponsored Rate History</h4>
                <canvas id="sponsoredChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
            <div style="flex:1;min-width:300px;">
                <h4>Credit Multiplier History</h4>
                <canvas id="creditChart" height="110" style="width:100%;background:#161b22;border:1px solid #222;border-radius:8px;"></canvas>
            </div>
        </div>
        <h4 style="margin-top:24px;">Live Event Stream</h4>
        <div id="eventStream" style="background:#161b22;padding:10px;border-radius:8px;max-height:200px;overflow:auto;font-size:0.65rem;font-family:monospace;"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <div id="fairnessBox" class="card" style="margin:30px 0; padding:20px; background:rgba(0,0,0,0.6); color:#fff; font-size:0.9rem;">Fairness: loading...</div>
    <!-- AI Monetization & Live Events Panel -->
    <div id="aiMonetizationPanel" class="card" style="background:#0d1117;color:#eee;">
        <h3 style="margin-top:0;">AI Monetization Live</h3>
        <div style="display:flex;gap:20px;flex-wrap:wrap;">
            <div style="flex:1;min-width:200px;">
                <h4>Dynamic Rates</h4>
                <div id="dynRates">Loading...</div>
                <button onclick="forceAiAdjust()" class="pill-btn outline" style="margin-top:8px;">Force Re‚Äëevaluate</button>
                <button onclick="refreshAiPanels()" class="pill-btn" style="margin-top:8px;background:#4ecdc4;">Refresh All</button>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Suggestions (AI)</h4>
                <ul id="aiSuggestions" style="list-style:disc;padding-left:20px;font-size:0.75rem;max-height:160px;overflow:auto;"></ul>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Recent Pricing Changes</h4>
                <div id="pricingHistory" style="max-height:160px;overflow:auto;font-size:0.7rem;font-family:monospace;"></div>
            </div>
            <div style="flex:2;min-width:260px;">
                <h4>Monetization Plan</h4>
                <ul id="aiPlan" style="list-style:disc;padding-left:18px;font-size:0.7rem;max-height:160px;overflow:auto;"></ul>
                <button onclick="loadMonetizationPlan()" class="pill-btn outline" style="margin-top:6px;">Generate Plan</button>
            </div>
        </div>
        <hr style="margin:18px 0;border-color:#222;"/>
        <div style="display:flex;flex-wrap:wrap;gap:18px;">
            <div style="flex:1;min-width:260px;">
                <h4>Listing Recommendations</h4>
                <button onclick="loadListingRecs()" class="pill-btn outline" style="margin-bottom:6px;">Load Recs</button>
                <ul id="listingRecs" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Auction Suggestions</h4>
                <button onclick="loadAuctionSuggestions()" class="pill-btn outline" style="margin-bottom:6px;">Load Auction AI</button>
                <ul id="auctionSuggestions" style="font-size:0.65rem;max-height:140px;overflow:auto;list-style:disc;padding-left:16px;"></ul>
            </div>
            <div style="flex:1;min-width:260px;">
                <h4>Referral Optimization</h4>
                <button onclick="loadReferralSuggestion()" class="pill-btn outline" style="margin-bottom:6px;">Load Referral AI</button>
                <div id="referralSuggestion" style="font-size:0.65rem;max-height:140px;overflow:auto;background:#161b22;padding:6px;border-radius:8px;"></div>
            </div>
            <div style="flex:1;min-width:260px;">
                    const response = await fetch('/api/bot/stop', { method: 'POST' });
                    const result = await response.text();
                    alert(result);

                    if (result.includes('üõë')) {
                        document.getElementById('startBotBtn').style.display = 'inline-block';
                        document.getElementById('stopBotBtn').style.display = 'none';
                        document.getElementById('botStatusText').textContent = 'Stopped';
                    }
                } catch (error) {
                    alert('Failed to stop bot: ' + error.message);
                }
            }

            async function checkBotStatus() {
                try {
                    const response = await fetch('/api/bot/status');
                    const result = await response.text();
                    alert(result);
                    updateBotStatus();
                } catch (error) {
                    alert('Failed to check bot status: ' + error.message);
                }
            }

            async function updateBotStatus() {
                try {
                    const response = await fetch('/api/bot/status');
                    const statusText = await response.text();

                    // Parse status (this is a simple implementation)
                    if (statusText.includes('Running')) {
                        document.getElementById('botStatusText').textContent = 'Running - Income Active!';
                        document.getElementById('startBotBtn').style.display = 'none';
                        document.getElementById('stopBotBtn').style.display = 'inline-block';
                        showNotification('üöÄ Trading Bot is ACTIVE and generating income!', 'success');
                    } else {
                        document.getElementById('botStatusText').textContent = 'Stopped';
                        document.getElementById('startBotBtn').style.display = 'inline-block';
                        document.getElementById('stopBotBtn').style.display = 'none';
                    }

                    // Extract trade count and profit if available
                    const tradeMatch = statusText.match(/Trades: (\d+)/);
                    const profitMatch = statusText.match(/Profit: ([\d.]+) ETH/);

                    if (tradeMatch) {
                        document.getElementById('tradeCount').textContent = tradeMatch[1];
                    }
                    if (profitMatch) {
                        document.getElementById('totalProfit').textContent = profitMatch[1] + ' ETH';
                    }
                } catch (error) {
                    console.error('Failed to update bot status:', error);
                }
            }

            // Auto-update status every 30 seconds
            setInterval(updateBotStatus, 30000);

            // Affiliate function
            function showAffiliate() {
                const affiliateLink = `${window.location.origin}?ref=${account || 'your-wallet-address'}`;
                alert(`Your affiliate link: ${affiliateLink}\n\nShare this link to earn commissions on referrals!`);
                navigator.clipboard.writeText(affiliateLink).then(() => {
                    alert('Link copied to clipboard!');
                });
            }

            // Legacy function for backward compatibility
            function trade() {
                startBot();
            }

            // Initialize page
            document.addEventListener('DOMContentLoaded', function() {
                updateBotStatus();
                checkWalletConnection();
                checkSystemHealth();
            });

            // System Health Check with Auto-Fallback
            async function checkSystemHealth() {
                let failures = 0;
                const maxFailures = 3;

                try {
                    // Test API connection
                    const healthResponse = await fetch('/api/health', { timeout: 5000 });
                    if (!healthResponse.ok) failures++;

                    // Test bot status
                    const botResponse = await fetch('/api/bot/status', { timeout: 5000 });
                    if (!botResponse.ok) failures++;

                } catch (error) {
                    console.warn('System health check failed:', error);
                    failures++;
                }

                // If multiple failures, suggest offline mode
                if (failures >= maxFailures) {
                    setTimeout(() => {
                        const useOffline = confirm(
                            '‚ö†Ô∏è System appears to be having issues!\n\n' +
                            'Multiple API endpoints are not responding.\n\n' +
                            'Would you like to switch to offline mode for manual payments?'
                        );

                        if (useOffline) {
                            window.location.href = '/offline.html';
                        }
                    }, 3000); // Wait 3 seconds before showing
                }
            }

            // User Report Form
            function showReportForm() {
                const user = account || prompt('Please enter your wallet address or username:');
                if (!user) return;

                const issue = prompt('Describe the issue you\'re experiencing:');
                if (!issue) return;

                const details = prompt('Additional details (optional):');

                fetch('http://localhost:5050/report', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ user, issue, details })
                })
                .then(response => response.text())
                .then(result => alert(result))
                .catch(error => alert('Failed to submit report: ' + error.message));
            }

            // Register Service Worker for PWA
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/pwa-sw.js')
                        .then(registration => {
                            console.log('SW registered: ', registration);
                        })
                        .catch(registrationError => {
                            console.log('SW registration failed: ', registrationError);
                        });
                });
            }

            // Theme Toggle Function
            function toggleTheme() {
                const body = document.body;
                const themeBtn = document.querySelector('.theme-toggle i');

                if (body.classList.contains('dark-mode')) {
                    body.classList.remove('dark-mode');
                    themeBtn.className = 'fas fa-moon';
                    localStorage.setItem('theme', 'light');
                } else {
                    body.classList.add('dark-mode');
                    themeBtn.className = 'fas fa-sun';
                    localStorage.setItem('theme', 'dark');
                }
            }

            // Sound Toggle Function
            function toggleSound() {
                const soundBtn = document.querySelector('.sound-toggle i');
                const isMuted = localStorage.getItem('sound') === 'muted';

                if (isMuted) {
                    soundBtn.className = 'fas fa-volume-up';
                    localStorage.setItem('sound', 'enabled');
                    // Enable sound effects here
                } else {
                    soundBtn.className = 'fas fa-volume-mute';
                    localStorage.setItem('sound', 'muted');
                    // Disable sound effects here
                }
            }

            // Load market data and update social stats
            async function loadMarketData() {
                try {
                    const response = await fetch('/.netlify/functions/api/market/data');
                    const result = await response.json();

                    if (result.success) {
                        const data = result.data;
                        document.getElementById('activeUsers').textContent = data.activeUsers.toLocaleString();
                        document.getElementById('totalTradesSocial').textContent = data.totalTrades.toLocaleString();
                        document.getElementById('communityPool').textContent = data.communityPool.toFixed(1) + ' ETH';
                    }
                } catch (error) {
                    console.error('Error loading market data:', error);
                }
            }

            // Initialize page with dynamic data
            async function initializePage() {
                await loadMarketData();
                // Load initial bot stats
                updateBotStats();
            }

            // Call initialization when page loads
            document.addEventListener('DOMContentLoaded', function() {
                // Load theme preference
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    document.body.classList.add('dark-mode');
                    const themeBtn = document.querySelector('.theme-toggle i');
                    if (themeBtn) themeBtn.className = 'fas fa-sun';
                }

                // Load sound preference
                const savedSound = localStorage.getItem('sound');
                if (savedSound === 'muted') {
                    const soundBtn = document.querySelector('.sound-toggle i');
                    if (soundBtn) soundBtn.className = 'fas fa-volume-mute';
                }

                // Initialize dynamic data
                initializePage();
            });

            // NFT Marketplace Functions
            function openNFTMarketplace() {
                showModal('NFT Marketplace', `
                    <div class="nft-marketplace">
                        <div class="marketplace-header">
                            <h3>üé® NFT Marketplace</h3>
                            <p>Create, buy, sell, and trade unique digital assets</p>
                        </div>
                        <div class="marketplace-actions">
                            <button onclick="createNFT()" class="btn-primary">Create NFT</button>
                            <button onclick="browseNFTs()" class="btn-secondary">Browse NFTs</button>
                            <button onclick="myNFTs()" class="btn-secondary">My NFTs</button>
                        </div>
                        <div class="nft-grid" id="nftGrid">
                            <!-- NFT items will be loaded here -->
                        </div>
                    </div>
                `);
                loadNFTs();
            }

            function createNFT() {
                showModal('Create New NFT', `
                    <div class="create-nft-form">
                        <form id="nftForm">
                            <div class="form-group">
                                <label for="nftName">NFT Name:</label>
                                <input type="text" id="nftName" required>
                            </div>
                            <div class="form-group">
                                <label for="nftDescription">Description:</label>
                                <textarea id="nftDescription" required></textarea>
                            </div>
                            <div class="form-group">
                                <label for="nftImage">Image URL:</label>
                                <input type="url" id="nftImage" required>
                            </div>
                            <div class="form-group">
                                <label for="nftPrice">Price (ETH):</label>
                                <input type="number" id="nftPrice" step="0.01" required>
                            </div>
                            <button type="submit" class="btn-primary">Mint NFT</button>
                        </form>
                    </div>
                `);
                document.getElementById('nftForm').addEventListener('submit', handleNFTCreation);
            }

            async function handleNFTCreation(e) {
                e.preventDefault();
                const name = document.getElementById('nftName').value;
                const description = document.getElementById('nftDescription').value;
                const image = document.getElementById('nftImage').value;
                const price = document.getElementById('nftPrice').value;

                try {
                    const response = await fetch('/.netlify/functions/api/nfts/create', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ name, description, image, price })
                    });

                    const result = await response.json();

                    if (result.success) {
                        showNotification('NFT created successfully!', 'success');
                        closeModal();
                        openNFTMarketplace();
                    } else {
                        showNotification('Failed to create NFT: ' + result.message, 'error');
                    }
                } catch (error) {
                    showNotification('Error creating NFT: ' + error.message, 'error');
                }
            }

            async function loadNFTs() {
                try {
                    const response = await fetch('/.netlify/functions/api/nfts');
                    const result = await response.json();

                    if (result.success) {
                        const nftGrid = document.getElementById('nftGrid');
                        nftGrid.innerHTML = result.nfts.map(nft => `
                            <div class="nft-item">
                                <img src="${nft.image}" alt="${nft.name}">
                                <h4>${nft.name}</h4>
                                <p>${nft.price} ETH</p>
                                <button onclick="buyNFT(${nft.id})" class="btn-primary">Buy Now</button>
                            </div>
                        `).join('');
                    }
                } catch (error) {
                    console.error('Error loading NFTs:', error);
                    // Fallback to sample data
                    const nftGrid = document.getElementById('nftGrid');
                    nftGrid.innerHTML = `
                        <div class="nft-item">
                            <img src="https://via.placeholder.com/200" alt="Sample NFT">
                            <h4>Sample NFT</h4>
                            <p>0.5 ETH</p>
                            <button onclick="buyNFT(1)" class="btn-primary">Buy Now</button>
                        </div>
                    `;
                }
            }

            async function buyNFT(id) {
                try {
                    const response = await fetch(`/.netlify/functions/api/nfts/buy/${id}`, {
                        method: 'POST'
                    });

                    const result = await response.json();

                    if (result.success) {
                        showNotification('Purchase initiated! Please confirm in your wallet.', 'success');
                        loadNFTs(); // Refresh the NFT list
                    } else {
                        showNotification('Purchase failed: ' + result.message, 'error');
                    }
                } catch (error) {
                    showNotification('Error purchasing NFT: ' + error.message, 'error');
                }
            }

            // Token Creator Functions
            function openTokenCreator() {
                showModal('Token Creator', `
                    <div class="token-creator">
                        <div class="creator-header">
                            <h3>üöÄ Token Creator</h3>
                            <p>Create your own ERC-20 tokens with custom features</p>
                        </div>
                        <div class="creator-form">
                            <form id="tokenForm">
                                <div class="form-group">
                                    <label for="tokenName">Token Name:</label>
                                    <input type="text" id="tokenName" placeholder="e.g., My Awesome Token" required>
                                </div>
                                <div class="form-group">
                                    <label for="tokenSymbol">Token Symbol:</label>
                                    <input type="text" id="tokenSymbol" placeholder="e.g., MAT" maxlength="10" required>
                                </div>
                                <div class="form-group">
                                    <label for="totalSupply">Total Supply:</label>
                                    <input type="number" id="totalSupply" placeholder="1000000" required>
                                </div>
                                <div class="form-group">
                                    <label for="decimals">Decimals:</label>
                                    <input type="number" id="decimals" value="18" required>
                                </div>
                                <div class="form-group">
                                    <label for="features">Features:</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" id="burnable"> Burnable</label>
                                        <label><input type="checkbox" id="mintable"> Mintable</label>
                                        <label><input type="checkbox" id="pausable"> Pausable</label>
                                    </div>
                                </div>
                                <button type="submit" class="btn-primary">Create Token</button>
                            </form>
                        </div>
                    </div>
                `);
                document.getElementById('tokenForm').addEventListener('submit', handleTokenCreation);
            }

            async function handleTokenCreation(e) {
                e.preventDefault();
                const name = document.getElementById('tokenName').value;
                const symbol = document.getElementById('tokenSymbol').value;
                const supply = document.getElementById('totalSupply').value;
                const decimals = document.getElementById('decimals').value;

                const features = [];
                if (document.getElementById('burnable').checked) features.push('burnable');
                if (document.getElementById('mintable').checked) features.push('mintable');
                if (document.getElementById('pausable').checked) features.push('pausable');

                try {
                    const response = await fetch('/.netlify/functions/api/tokens/create', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ name, symbol, totalSupply: supply, decimals, features })
                    });

                    const result = await response.json();

                    if (result.success) {
                        showNotification(`Token "${name} (${symbol})" created successfully!`, 'success');
                        closeModal();
                    } else {
                        showNotification('Failed to create token: ' + result.message, 'error');
                    }
                } catch (error) {
                    showNotification('Error creating token: ' + error.message, 'error');
                }
            }

            // Global Trading Functions
            function openGlobalTrading() {
                showModal('Global Trading Hub', `
                    <div class="global-trading">
                        <div class="trading-header">
                            <h3>üåç Global Trading Hub</h3>
                            <p>Trade across multiple blockchains and exchanges</p>
                        </div>
                        <div class="trading-platforms">
                            <div class="platform-grid">
                                <div class="platform-card" onclick="tradeOnUniswap()">
                                    <i class="fab fa-ethereum"></i>
                                    <h4>Uniswap</h4>
                                    <p>Decentralized Exchange</p>
                                </div>
                                <div class="platform-card" onclick="tradeOnPancake()">
                                    <i class="fas fa-coins"></i>
                                    <h4>PancakeSwap</h4>
                                    <p>BSC Trading</p>
                                </div>
                                <div class="platform-card" onclick="tradeOnSushi()">
                                    <i class="fas fa-utensils"></i>
                                    <h4>SushiSwap</h4>
                                    <p>Cross-chain DEX</p>
                                </div>
                                <div class="platform-card" onclick="tradeOn1inch()">
                                    <i class="fas fa-exchange-alt"></i>
                                    <h4>1inch</h4>
                                    <p>Aggregator</p>
                                </div>
                            </div>
                        </div>
                        <div class="trading-tools">
                            <button onclick="openTradingBot()" class="btn-primary">Launch Trading Bot</button>
                            <button onclick="viewMarketData()" class="btn-secondary">Market Data</button>
                        </div>
                    </div>
                `);
            }

            function tradeOnUniswap() {
                window.open('https://app.uniswap.org/', '_blank');
            }

            function tradeOnPancake() {
                window.open('https://pancakeswap.finance/', '_blank');
            }

            function tradeOnSushi() {
                window.open('https://app.sushi.com/', '_blank');
            }

            function tradeOn1inch() {
                window.open('https://app.1inch.io/', '_blank');
            }

            function openTradingBot() {
                showModal('Trading Bot Control', `
                    <div class="trading-bot">
                        <h3>ü§ñ Trading Bot</h3>
                        <div class="bot-status">
                            <p>Status: <span id="botStatus">Inactive</span></p>
                        </div>
                        <div class="bot-controls">
                            <button onclick="startTradingBot()" class="btn-success">Start Bot</button>
                            <button onclick="stopTradingBot()" class="btn-danger">Stop Bot</button>
                            <button onclick="configureBot()" class="btn-secondary">Configure</button>
                        </div>
                        <div class="bot-stats">
                            <div class="stat">
                                <h4>Total Trades</h4>
                                <p id="totalTrades">0</p>
                            </div>
                            <div class="stat">
                                <h4>Profit/Loss</h4>
                                <p id="pnl">$0.00</p>
                            </div>
                        </div>
                    </div>
                `);
            }

            async function startTradingBot() {
                try {
                    const response = await fetch('/.netlify/functions/api/bot/start', {
                        method: 'POST'
                    });

                    const result = await response.text();

                    if (response.ok) {
                        document.getElementById('botStatus').textContent = 'Active';
                        document.getElementById('botStatus').style.color = 'green';
                        showNotification('Trading bot started successfully!', 'success');
                        updateBotStats();
                    } else {
                        showNotification('Failed to start bot: ' + result, 'error');
                    }
                } catch (error) {
                    showNotification('Error starting bot: ' + error.message, 'error');
                }
            }

            async function stopTradingBot() {
                try {
                    const response = await fetch('/.netlify/functions/api/bot/stop', {
                        method: 'POST'
                    });

                    const result = await response.text();

                    if (response.ok) {
                        document.getElementById('botStatus').textContent = 'Inactive';
                        document.getElementById('botStatus').style.color = 'red';
                        showNotification('Trading bot stopped.', 'info');
                        updateBotStats();
                    } else {
                        showNotification('Failed to stop bot: ' + result, 'error');
                    }
                } catch (error) {
                    showNotification('Error stopping bot: ' + error.message, 'error');
                }
            }

            async function updateBotStats() {
                try {
                    const response = await fetch('/.netlify/functions/api/bot/status');
                    const statusText = await response.text();

                    // Parse the status text to extract stats
                    const lines = statusText.split('\n');
                    const tradeLine = lines.find(line => line.includes('Trades:'));
                    const profitLine = lines.find(line => line.includes('Profit:'));

                    if (tradeLine) {
                        const tradeCount = tradeLine.split(': ')[1];
                        document.getElementById('totalTrades').textContent = tradeCount;
                    }

                    if (profitLine) {
                        const profit = profitLine.split(': ')[1];
                        document.getElementById('pnl').textContent = profit;
                    }
                } catch (error) {
                    console.error('Error updating bot stats:', error);
                }
            }

            async function configureBot() {
                const tradingPair = document.getElementById('tradingPair').value;
                const strategy = document.getElementById('strategy').value;
                const riskLevel = document.getElementById('riskLevel').value;

                try {
                    const response = await fetch('/.netlify/functions/api/bot/configure', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ tradingPair, strategy, riskLevel })
                    });

                    const result = await response.json();

                    if (result.success) {
                        showNotification('Bot configuration saved successfully!', 'success');
                        closeModal();
                    } else {
                        showNotification('Failed to save configuration: ' + result.message, 'error');
                    }
                } catch (error) {
                    showNotification('Error saving configuration: ' + error.message, 'error');
                }
            }

            // Social Hub Functions
            function openSocialHub() {
                showModal('Social Hub', `
                    <div class="social-hub">
                        <div class="social-header">
                            <h3>üåê Social Hub</h3>
                            <p>Connect, share, and engage with the community</p>
                        </div>
                        <div class="social-features">
                            <div class="social-grid">
                                <div class="social-card" onclick="openLeaderboard()">
                                    <i class="fas fa-trophy"></i>
                                    <h4>Leaderboard</h4>
                                    <p>Top traders & achievers</p>
                                </div>
                                <div class="social-card" onclick="openChat()">
                                    <i class="fas fa-comments"></i>
                                    <h4>Community Chat</h4>
                                    <p>Real-time discussions</p>
                                </div>
                                <div class="social-card" onclick="shareAchievement()">
                                    <i class="fas fa-share"></i>
                                    <h4>Share Achievements</h4>
                                    <p>Show off your success</p>
                                </div>
                                <div class="social-card" onclick="joinEvents()">
                                    <i class="fas fa-calendar"></i>
                                    <h4>Events & Tournaments</h4>
                                    <p>Compete and win prizes</p>
                                </div>
                            </div>
                        </div>
                        <div class="social-stats">
                            <div class="stat">
                                <h4>Active Users</h4>
                                <p id="activeUsers">1,234</p>
                            </div>
                            <div class="stat">
                                <h4>Total Trades</h4>
                                <p id="totalTradesSocial">45,678</p>
                            </div>
                            <div class="stat">
                                <h4>Community Pool</h4>
                                <p id="communityPool">12.5 ETH</p>
                            </div>
                        </div>
                    </div>
                `);
            }

            async function openLeaderboard() {
                try {
                    const response = await fetch('/.netlify/functions/api/leaderboard');
                    const result = await response.json();

                    if (result.success) {
                        const leaderboardHTML = result.leaderboard.map(item => `
                            <div class="leader-item">
                                <span class="rank">${item.rank}</span>
                                <span class="name">${item.name}</span>
                                <span class="score">$${item.score.toLocaleString()}</span>
                            </div>
                        `).join('');

                        showModal('Leaderboard', `
                            <div class="leaderboard">
                                <h3>üèÜ Top Traders</h3>
                                <div class="leaderboard-list">
                                    ${leaderboardHTML}
                                </div>
                            </div>
                        `);
                    }
                } catch (error) {
                    console.error('Error loading leaderboard:', error);
                    // Fallback to static data
                    showModal('Leaderboard', `
                        <div class="leaderboard">
                            <h3>üèÜ Top Traders</h3>
                            <div class="leaderboard-list">
                                <div class="leader-item">
                                    <span class="rank">1</span>
                                    <span class="name">CryptoKing</span>
                                    <span class="score">$125,430</span>
                                </div>
                                <div class="leader-item">
                                    <span class="rank">2</span>
                                    <span class="name">DeFiMaster</span>
                                    <span class="score">$98,210</span>
                                </div>
                                <div class="leader-item">
                                    <span class="rank">3</span>
                                    <span class="name">TokenTrader</span>
                                    <span class="score">$87,650</span>
                                </div>
                            </div>
                        </div>
                    `);
                }
            }

            async function openChat() {
                try {
                    const response = await fetch('/.netlify/functions/api/chat/messages');
                    const result = await response.json();

                    let messagesHTML = '';
                    if (result.success) {
                        messagesHTML = result.messages.map(msg => `
                            <div class="message">
                                <strong>${msg.user}:</strong> ${msg.message}
                            </div>
                        `).join('');
                    }

                    showModal('Community Chat', `
                        <div class="chat-modal">
                            <h3>üí¨ Community Chat</h3>
                            <div class="chat-messages" id="chatMessages">
                                ${messagesHTML}
                            </div>
                            <div class="chat-input">
                                <input type="text" id="chatInput" placeholder="Type your message...">
                                <button onclick="sendMessage()" class="btn-primary">Send</button>
                            </div>
                        </div>
                    `);
                } catch (error) {
                    console.error('Error loading chat:', error);
                    // Fallback to static chat
                    showModal('Community Chat', `
                        <div class="chat-modal">
                            <h3>üí¨ Community Chat</h3>
                            <div class="chat-messages" id="chatMessages">
                                <div class="message">
                                    <strong>CryptoKing:</strong> Just made a killer trade! üöÄ
                                </div>
                                <div class="message">
                                    <strong>DeFiMaster:</strong> Congrats! What's your strategy?
                                </div>
                            </div>
                            <div class="chat-input">
                                <input type="text" id="chatInput" placeholder="Type your message...">
                                <button onclick="sendMessage()" class="btn-primary">Send</button>
                            </div>
                        </div>
                    `);
                }
            }

            async function sendMessage() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                if (message) {
                    try {
                        const response = await fetch('/.netlify/functions/api/chat/send', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ message })
                        });

                        const result = await response.json();

                        if (result.success) {
                            const chatMessages = document.getElementById('chatMessages');
                            chatMessages.innerHTML += `<div class="message"><strong>You:</strong> ${message}</div>`;
                            input.value = '';
                            chatMessages.scrollTop = chatMessages.scrollHeight;
                        } else {
                            showNotification('Failed to send message: ' + result.message, 'error');
                        }
                    } catch (error) {
                        showNotification('Error sending message: ' + error.message, 'error');
                    }
                }
            }

            function shareAchievement() {
                showModal('Share Achievement', `
                    <div class="share-achievement">
                        <h3>üéâ Share Your Success</h3>
                        <div class="achievement-options">
                            <button onclick="shareToTwitter()" class="btn-primary">
                                <i class="fab fa-twitter"></i> Share on Twitter
                            </button>
                            <button onclick="shareToTelegram()" class="btn-secondary">
                                <i class="fab fa-telegram"></i> Share on Telegram
                            </button>
                            <button onclick="shareToDiscord()" class="btn-secondary">
                                <i class="fab fa-discord"></i> Share on Discord
                            </button>
                        </div>
                    </div>
                `);
            }

            function shareToTwitter() {
                const text = encodeURIComponent("Just achieved something amazing on AwesomeSauceToken! üöÄ #AwesomeSauce #Crypto");
                window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
            }

            function shareToTelegram() {
                const text = encodeURIComponent("Just achieved something amazing on AwesomeSauceToken! üöÄ");
                window.open(`https://t.me/share/url?url=${window.location.href}&text=${text}`, '_blank');
            }

            function shareToDiscord() {
                showNotification('Discord sharing coming soon!', 'info');
            }

            function joinEvents() {
                showModal('Events & Tournaments', `
                    <div class="events-modal">
                        <h3>üé™ Upcoming Events</h3>
                        <div class="events-list">
                            <div class="event-item">
                                <h4>Trading Championship</h4>
                                <p>Prize Pool: 10 ETH</p>
                                <p>Starts: Tomorrow 2:00 PM UTC</p>
                                <button class="btn-primary">Join Now</button>
                            </div>
                            <div class="event-item">
                                <h4>NFT Creation Contest</h4>
                                <p>Prize Pool: 5 ETH</p>
                                <p>Starts: Next Week</p>
                                <button class="btn-primary">Join Now</button>
                            </div>
                        </div>
                    </div>
                `);
            }

            // Utility Functions
            function showModal(title, content) {
                const modal = document.createElement('div');
                modal.className = 'modal-overlay';
                modal.innerHTML = `
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>${title}</h2>
                            <button onclick="closeModal()" class="close-btn">&times;</button>
                        </div>
                        <div class="modal-body">
                            ${content}
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
                modal.style.display = 'flex';
            }

            function closeModal() {
                const modal = document.querySelector('.modal-overlay');
                if (modal) {
                    modal.remove();
                }
            }

            function showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <span>${message}</span>
                    <button onclick="this.parentElement.remove()">&times;</button>
                `;
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 5000);
            }

            // Add modal and notification styles
            const style = document.createElement('style');
            style.textContent = `
                .modal-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.8);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                }
                .modal-content {
                    background: var(--bg-color);
                    border-radius: 15px;
                    max-width: 600px;
                    width: 90%;
                    max-height: 80vh;
                    overflow-y: auto;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                }
                .modal-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 20px;
                    border-bottom: 1px solid var(--border-color);
                }
                .modal-header h2 {
                    margin: 0;
                    color: var(--text-color);
                }
                .close-btn {
                    background: none;
                    border: none;
                    font-size: 24px;
                    cursor: pointer;
                    color: var(--text-color);
                }
                .modal-body {
                    padding: 20px;
                }
                .notification {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 15px 20px;
                    border-radius: 8px;
                    color: white;
                    z-index: 1001;
                    animation: slideIn 0.3s ease;
                }
                .notification.success { background: #4CAF50; }
                .notification.error { background: #f44336; }
                .notification.info { background: #2196F3; }
                @keyframes slideIn {
                    from { transform: translateX(100%); }
                    to { transform: translateX(0); }
                }
                .nft-marketplace, .token-creator, .global-trading, .social-hub {
                    text-align: center;
                }
                .marketplace-actions, .creator-form, .trading-platforms, .social-features {
                    margin: 20px 0;
                }
                .platform-grid, .social-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 15px;
                    margin: 20px 0;
                }
                .platform-card, .social-card {
                    background: var(--card-bg);
                    padding: 20px;
                    border-radius: 10px;
                    cursor: pointer;
                    transition: transform 0.2s;
                    border: 1px solid var(--border-color);
                }
                .platform-card:hover, .social-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                }
                .nft-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                    gap: 15px;
                    margin-top: 20px;
                }
                .nft-item {
                    background: var(--card-bg);
                    border-radius: 10px;
                    overflow: hidden;
                    border: 1px solid var(--border-color);
                }
                .nft-item img {
                    width: 100%;
                    height: 150px;
                    object-fit: cover;
                }
                .nft-item h4 {
                    margin: 10px;
                    color: var(--text-color);
                }
                .nft-item p {
                    margin: 0 10px 10px;
                    color: var(--accent-color);
                    font-weight: bold;
                }
                .form-group {
                    margin-bottom: 15px;
                    text-align: left;
                }
                .form-group label {
                    display: block;
                    margin-bottom: 5px;
                    color: var(--text-color);
                }
                .form-group input, .form-group textarea, .form-group select {
                    width: 100%;
                    padding: 10px;
                    border: 1px solid var(--border-color);
                    border-radius: 5px;
                    background: var(--bg-color);
                    color: var(--text-color);
                }
                .checkbox-group {
                    display: flex;
                    gap: 15px;
                    flex-wrap: wrap;
                }
                .checkbox-group label {
                    display: flex;
                    align-items: center;
                    gap: 5px;
                }
                .leaderboard-list {
                    margin-top: 20px;
                }
                .leader-item {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 10px;
                    background: var(--card-bg);
                    margin-bottom: 5px;
                    border-radius: 5px;
                    border: 1px solid var(--border-color);
                }
                .rank {
                    font-weight: bold;
                    color: var(--accent-color);
                }
                .chat-messages {
                    max-height: 300px;
                    overflow-y: auto;
                    background: var(--card-bg);
                    padding: 10px;
                    border-radius: 5px;
                    margin-bottom: 10px;
                }
                .message {
                    margin-bottom: 10px;
                    padding: 5px 0;
                }
                .chat-input {
                    display: flex;
                    gap: 10px;
                }
                .chat-input input {
                    flex: 1;
                    padding: 10px;
                    border: 1px solid var(--border-color);
                    border-radius: 5px;
                    background: var(--bg-color);
                    color: var(--text-color);
                }
                .achievement-options {
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                    margin-top: 20px;
                }
                .events-list {
                    margin-top: 20px;
                }
                .event-item {
                    background: var(--card-bg);
                    padding: 15px;
                    border-radius: 10px;
                    margin-bottom: 10px;
                    border: 1px solid var(--border-color);
                }
                .event-item h4 {
                    margin: 0 0 10px 0;
                    color: var(--text-color);
                }
                .event-item p {
                    margin: 5px 0;
                    color: var(--text-secondary);
                }
                .bot-status, .bot-controls, .bot-stats {
                    margin: 20px 0;
                }
                .bot-controls {
                    display: flex;
                    gap: 10px;
                    justify-content: center;
                }
                .bot-stats {
                    display: flex;
                    justify-content: space-around;
                    margin-top: 20px;
                }
                .stat {
                    text-align: center;
                }
                .stat h4 {
                    margin: 0 0 10px 0;
                    color: var(--text-secondary);
                }
                .stat p {
                    font-size: 24px;
                    font-weight: bold;
                    color: var(--accent-color);
                }
                .social-stats {
                    display: flex;
                    justify-content: space-around;
                    margin-top: 30px;
                    padding-top: 20px;
                    border-top: 1px solid var(--border-color);
                }
            `;
            document.head.appendChild(style);
        </script>
        <script>
            // === AUTH & SESSION ===
            let sessionToken = null;
            async function authFlow(){
                if(!window.ethereum){ alert('Web3 wallet required'); return; }
                const accounts = await window.ethereum.request({ method:'eth_requestAccounts'});
                const addr = accounts[0];
                const nonceRes = await fetch('/api/auth/nonce',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({address:addr})});
                const { nonce } = await nonceRes.json();
                const signature = await window.ethereum.request({ method:'personal_sign', params:[nonce, addr] });
                const verifyRes = await fetch('/api/auth/verify',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({address:addr,signature})});
                if(!verifyRes.ok){ document.getElementById('authStatus').innerText='Auth failed'; return; }
                const data = await verifyRes.json(); sessionToken = data.token; document.getElementById('authStatus').innerText='Authenticated';
            }
            function authHeaders(){ return sessionToken? { 'x-session-token': sessionToken, 'Content-Type':'application/json'} : { 'Content-Type':'application/json'}; }

            // === MARKETPLACE ===
            async function createUserListing(){
                if(!sessionToken) return alert('Authenticate first');
                const title = document.getElementById('newListingTitle').value.trim();
                const priceEth = document.getElementById('newListingPrice').value.trim();
                const description = document.getElementById('newListingDesc').value.trim();
                const msgEl = document.getElementById('listingCreateMsg');
                msgEl.textContent='Creating...';
                try{
                    const r = await fetch('/api/marketplace/listings/user',{method:'POST',headers:authHeaders(),body:JSON.stringify({title,priceEth,description})});
                    const j = await r.json();
                    if(!r.ok) throw new Error(j.error||'failed');
                    msgEl.textContent='Created '+j.listing.id+' (fee '+j.listingFeeEth+' ETH)';
                }catch(e){ msgEl.textContent='Error: '+e.message; }
            }
            async function loadAggregate(){
                const limit = document.getElementById('aggLimit').value||10;
                const platforms = document.getElementById('aggPlatforms').value||'internal';
                const cont = document.getElementById('aggregateContainer');
                const meta = document.getElementById('aggMeta');
                cont.innerHTML='Loading...';
                try{
                    const r = await fetch(`/api/marketplace/aggregate?limit=${encodeURIComponent(limit)}&platforms=${encodeURIComponent(platforms)}`,{ headers: sessionToken? {'x-session-token':sessionToken}:{} });
                    const j = await r.json();
                    const rows = j.listings.map(l=>`<tr><td>${l.id}</td><td>${l.source||'internal'}</td><td>${l.title||''}</td><td>${l.priceEth}</td></tr>`).join('');
                    cont.innerHTML=`<table class='slim'><thead><tr><th>ID</th><th>Src</th><th>Title</th><th>Price</th></tr></thead><tbody>${rows}</tbody></table>`;
                    meta.textContent = `${j.listings.length} listings ${j.cached?'(cache)':''}`;
                }catch(e){ cont.innerHTML='Error '+e.message; }
            }
            async function featureListing(){
                if(!sessionToken) return alert('Authenticate first');
                const id = document.getElementById('featureListingId').value.trim();
                const hours = document.getElementById('featureHours').value.trim()||24;
                const msg = document.getElementById('promoMsg'); msg.textContent='Featuring...';
                try{ const r = await fetch(`/api/marketplace/listings/${id}/feature`,{method:'POST',headers:authHeaders(),body:JSON.stringify({hours})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); msg.textContent='Featured until '+ new Date(j.featuredUntil).toLocaleString(); }
                catch(e){ msg.textContent='Error '+e.message; }
            }
            async function buySponsored(){
                if(!sessionToken) return alert('Authenticate first');
                const msg = document.getElementById('promoMsg'); msg.textContent='Purchasing slot...';
                try{ const r = await fetch('/api/marketplace/sponsored/buy',{method:'POST',headers:authHeaders(),body:JSON.stringify({placement:'carousel',hours:24})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); msg.textContent='Slot '+j.slot.id+' active'; }
                catch(e){ msg.textContent='Error '+e.message; }
            }
            async function loadSponsored(){
                const target = document.getElementById('sponsoredSlots'); target.textContent='Loading...';
                try{ const r= await fetch('/api/marketplace/sponsored/active'); const j=await r.json(); target.innerHTML=j.slots.map(s=>`<div>‚û° ${s.id} - ${s.placement} (exp ${new Date(s.expiresTs).toLocaleTimeString()})</div>`).join(''); if(!j.slots.length) target.textContent='None active'; }catch(e){ target.textContent='Error '+e.message; }
            }

            // === GAMES & CREDITS ===
            async function loadCreditPacks(){
                const el = document.getElementById('creditPacks'); el.textContent='Loading...';
                try{ const r=await fetch('/api/games/credits/packs'); const j=await r.json(); el.innerHTML=j.packs.map(p=>`<div style='margin-bottom:4px'>${p.id}: ${p.credits} cr / ${p.eth} ETH <button style='margin-left:6px' onclick=buyPack('${p.id}') class='pill-btn outline'>Buy</button></div>`).join(''); }catch(e){ el.textContent='Error'; }
            }
            async function buyPack(id){ if(!sessionToken) return alert('Authenticate first'); const el=document.getElementById('creditPacks'); try{ const r=await fetch('/api/games/credits/purchase',{method:'POST',headers:authHeaders(),body:JSON.stringify({packId:id})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.insertAdjacentHTML('beforeend',`<div style='color:#4ecdc4'>Bought ${id} new balance ${j.balance}</div>`);}catch(e){el.insertAdjacentHTML('beforeend',`<div style='color:#ff6b6b'>Err ${e.message}</div>`);} }
            async function playCoinflip(){ if(!sessionToken) return alert('Authenticate first'); const choice=document.getElementById('cfChoice').value.trim(); const wager=document.getElementById('cfWager').value.trim(); const msg=document.getElementById('coinflipMsg'); msg.textContent='Playing...'; try{ const r=await fetch('/api/games/coinflip/play',{method:'POST',headers:authHeaders(),body:JSON.stringify({choice,wager})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); msg.textContent=`Result ${j.result.result} win ${j.result.win} payout ${j.result.payout.toFixed(2)} bal ${j.balance.toFixed(2)}`;}catch(e){ msg.textContent='Error '+e.message; } }
            async function spinWheel(){ if(!sessionToken) return alert('Authenticate first'); const wager=document.getElementById('wheelWager').value.trim(); const msg=document.getElementById('wheelMsg'); msg.textContent='Spinning...'; try{ const r=await fetch('/api/games/wheel/spin',{method:'POST',headers:authHeaders(),body:JSON.stringify({wager})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); msg.textContent=`Multiplier ${j.result.multiplier} payout ${j.result.payout.toFixed(2)} bal ${j.balance.toFixed(2)}`;}catch(e){ msg.textContent='Error '+e.message; } }
            async function loadBoxes(){ const el=document.getElementById('boxMsg'); el.textContent='Loading...'; try{ const r=await fetch('/api/mystery/boxes'); const j=await r.json(); el.innerHTML=j.boxes.map(b=>`${b.id}: cost ${b.costEth} ETH`).join(' | ');}catch(e){ el.textContent='Error'; } }
            async function openBox(){ if(!sessionToken) return alert('Authenticate first'); const type=document.getElementById('boxType').value.trim(); const el=document.getElementById('boxMsg'); el.textContent='Opening...'; try{ const r=await fetch('/api/mystery/open',{method:'POST',headers:authHeaders(),body:JSON.stringify({boxType:type})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent=`Reward ${j.reward} credits (bal ${j.balance})`; }catch(e){ el.textContent='Error '+e.message; } }

            // === REFERRAL & MINT ===
            async function freeMint(){ if(!sessionToken) return alert('Authenticate first'); const el=document.getElementById('mintMsg'); el.textContent='Minting...'; try{ const r=await fetch('/api/mint/free',{method:'POST',headers:authHeaders()}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Minted '+j.minted.tokenId; }catch(e){ el.textContent='Error '+e.message; } }
            async function registerReferral(){ if(!sessionToken) return alert('Authenticate first'); const code=document.getElementById('refCodeReg').value.trim(); const el=document.getElementById('refRegMsg'); el.textContent='Registering...'; try{ const r=await fetch('/api/referral/register',{method:'POST',headers:authHeaders(),body:JSON.stringify({code})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Registered code '+j.code; }catch(e){ el.textContent='Error '+e.message; } }
            async function applyReferral(){ if(!sessionToken) return alert('Authenticate first'); const code=document.getElementById('refCodeApply').value.trim(); const el=document.getElementById('refApplyMsg'); el.textContent='Applying...'; try{ const r=await fetch('/api/referral/apply',{method:'POST',headers:authHeaders(),body:JSON.stringify({code})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Applied'; }catch(e){ el.textContent='Error '+e.message; } }
            async function loadReferralEarnings(){ if(!sessionToken) return alert('Authenticate first'); const el=document.getElementById('refEarnMsg'); el.textContent='Loading...'; try{ const addr = await window.ethereum.request({ method:'eth_accounts'}).then(a=>a[0]); const r=await fetch('/api/referral/earnings/'+addr); const j=await r.json(); el.textContent='Total bonus '+(j.totalBonus||0).toFixed(6)+' (raw units)'; }catch(e){ el.textContent='Error'; } }

            // === AUCTIONS ===
            async function createAuction(){ if(!sessionToken) return alert('Authenticate first'); const title=document.getElementById('aucTitle').value.trim(); const minBid=document.getElementById('aucMinBid').value.trim(); const dur=document.getElementById('aucDuration').value.trim(); const el=document.getElementById('aucCreateMsg'); el.textContent='Creating...'; try{ const r=await fetch('/api/auctions/create',{method:'POST',headers:authHeaders(),body:JSON.stringify({title,minBidEth:minBid,durationMinutes:dur})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Auction '+j.auction.id; loadAuctions(); }catch(e){ el.textContent='Error '+e.message; } }
            async function bidAuction(){ if(!sessionToken) return alert('Authenticate first'); const id=document.getElementById('aucId').value.trim(); const amount=document.getElementById('aucBidAmount').value.trim(); const el=document.getElementById('aucBidMsg'); el.textContent='Bidding...'; try{ const r=await fetch(`/api/auctions/${id}/bid`,{method:'POST',headers:authHeaders(),body:JSON.stringify({amountEth:amount})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Highest '+j.auction.highestBid.amountEth+' ETH'; loadAuctions(); }catch(e){ el.textContent='Error '+e.message; } }
            async function finalizeAuction(){ if(!sessionToken) return alert('Authenticate first'); const id=document.getElementById('aucId').value.trim(); const el=document.getElementById('aucBidMsg'); el.textContent='Finalizing...'; try{ const r=await fetch(`/api/auctions/${id}/finalize`,{method:'POST',headers:authHeaders()}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Settled'; loadAuctions(); }catch(e){ el.textContent='Error '+e.message; } }
            async function loadAuctions(){ const cont=document.getElementById('activeAuctions'); if(!cont) return; cont.textContent='Loading...'; try{ const r=await fetch('/api/auctions/active'); const j=await r.json(); cont.innerHTML=j.auctions.map(a=>`<div style='margin-bottom:6px'>${a.id} | min ${a.minBidEth} | highest ${(a.highestBid&&a.highestBid.amountEth)||'-'} | ends ${new Date(a.endsTs).toLocaleTimeString()}</div>`).join(''); if(!j.auctions.length) cont.textContent='No active auctions'; }catch(e){ cont.textContent='Error'; } }

            // === BUNDLES ===
            async function createBundle(){ if(!sessionToken) return alert('Authenticate first'); const ids=document.getElementById('bundleListingIds').value.trim().split(',').map(s=>s.trim()).filter(Boolean); const price=document.getElementById('bundlePrice').value.trim(); const el=document.getElementById('bundleCreateMsg'); el.textContent='Creating...'; try{ const r=await fetch('/api/bundles/create',{method:'POST',headers:authHeaders(),body:JSON.stringify({listingIds:ids,priceEth:price})}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Bundle '+j.bundle.id; loadBundles(); }catch(e){ el.textContent='Error '+e.message; } }
            async function purchaseBundle(){ if(!sessionToken) return alert('Authenticate first'); const id=document.getElementById('bundleIdBuy').value.trim(); const el=document.getElementById('bundleBuyMsg'); el.textContent='Purchasing...'; try{ const r=await fetch(`/api/bundles/${id}/purchase`,{method:'POST',headers:authHeaders()}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Purchased (fee '+j.platformFeeEth+')'; loadBundles(); }catch(e){ el.textContent='Error '+e.message; } }
            async function loadBundles(){ const cont=document.getElementById('activeBundles'); if(!cont) return; cont.textContent='Loading...'; try{ const r=await fetch('/api/bundles/active'); const j=await r.json(); cont.innerHTML=j.bundles.map(b=>`<div>${b.id} | price ${b.priceEth} ETH | listings ${b.listingIds.join(',')}</div>`).join(''); if(!j.bundles.length) cont.textContent='No active bundles'; }catch(e){ cont.textContent='Error'; } }

            // === API KEYS ===
            async function issueKey(){ if(!sessionToken) return alert('Authenticate first'); const el=document.getElementById('issueKeyMsg'); el.textContent='Issuing...'; try{ const r=await fetch('/api/keys/issue',{method:'POST',headers:authHeaders()}); const j=await r.json(); if(!r.ok) throw new Error(j.error); el.textContent='Key '+j.apiKey; loadKeys(); }catch(e){ el.textContent='Error '+e.message; } }
            async function loadKeys(){ const cont=document.getElementById('apiKeysList'); if(!cont) return; cont.textContent='Loading...'; try{ const r=await fetch('/api/keys/usage',{headers:authHeaders()}); const j=await r.json(); cont.innerHTML=j.keys.map(k=>`<div>${k.key} used ${k.usedToday}/${k.quotaDay}</div>`).join(''); if(!j.keys.length) cont.textContent='No keys'; }catch(e){ cont.textContent='Error'; } }

            // === REVENUE ===
            async function loadRevenue(){ const el=document.getElementById('revenueSummary'); el.textContent='Loading...'; try{ const r=await fetch('/api/revenue/summary'); const j=await r.json(); el.innerHTML=`<table class='slim'><tbody><tr><th>Sale Fees</th><td>${j.platformFeesEth.toFixed(6)}</td></tr><tr><th>Listing Fees</th><td>${j.listingFeesEth.toFixed(6)}</td></tr><tr><th>Featured</th><td>${j.featuredEth.toFixed(6)}</td></tr><tr><th>Credit Packs</th><td>${j.creditPacksEth.toFixed(6)}</td></tr><tr><th>Sponsored</th><td>${j.sponsoredEth.toFixed(6)}</td></tr><tr><th>Mystery</th><td>${j.mysteryBoxesEth.toFixed(6)}</td></tr></tbody></table>`; }catch(e){ el.textContent='Error'; } }

            // === AI Monetization Dashboard ===
            async function loadAiStatus(){
                const box=document.getElementById('dynRates'); if(!box) return;
                box.textContent='Loading...';
                try{ const r=await fetch('/api/ai/optimizer/status',{headers:authHeaders()}); const j=await r.json(); if(!r.ok) throw new Error(j.error||'fail');
                    box.innerHTML=`<div>Featured Rate (24h): <b>${j.featuredRate}</b> ETH</div><div>Sponsored Rate (24h): <b>${j.sponsoredRate}</b> ETH</div><div>Credit Pack Mult: <b>${j.creditPackMultiplier}</b></div><div style='margin-top:4px;font-size:0.65rem;opacity:0.7;'>Last Adj: ${new Date(j.lastAdjust).toLocaleTimeString()}</div>`;
                    const hist=document.getElementById('pricingHistory'); hist.innerHTML=j.history.slice().reverse().map(h=>`<div>[${new Date(h.ts).toLocaleTimeString()}] fr:${h.featuredRate} sr:${h.sponsoredRate} mult:${h.creditPackMultiplier} ${(h.signals&&Object.values(h.signals).join(','))||''}</div>`).join('');
                }catch(e){ box.textContent='AI status error'; }
            }
            async function loadAiSuggestions(){ const ul=document.getElementById('aiSuggestions'); if(!ul) return; ul.innerHTML='<li>Loading...</li>'; try{ const r=await fetch('/api/ai/suggestions',{headers:authHeaders()}); const j=await r.json(); if(!r.ok) throw new Error(j.error); ul.innerHTML=j.ideas.map(i=>`<li>${i}</li>`).join('') || '<li>No suggestions</li>'; }catch(e){ ul.innerHTML='<li>Error</li>'; } }
            async function forceAiAdjust(){ if(!sessionToken){ alert('Auth first'); return;} try{ const r=await fetch('/api/ai/optimizer/adjust',{method:'POST',headers:authHeaders()}); const j=await r.json(); if(!r.ok) throw new Error(j.error); pushEventMsg('manual_ai_adjust', j); loadAiStatus(); }catch(e){ pushEventMsg('ai_adjust_error', { error:e.message }); } }

            function initEventStream(){ const es=new EventSource('/events/stream'); const stream=document.getElementById('eventStream'); function add(evt,data){ const line=document.createElement('div'); line.textContent=`[${new Date().toLocaleTimeString()}] ${evt} :: ${JSON.stringify(data)}`; stream.prepend(line); while(stream.children.length>200) stream.removeChild(stream.lastChild); }
                es.onmessage=(m)=>{ add('message', m.data); };
                const events=['pricing_update','featured_purchase','sponsored_purchase','auction_create','auction_bid','auction_finalize'];
                for(const ev of events){ es.addEventListener(ev, e=>{ try{ add(ev, JSON.parse(e.data)); }catch(_){ add(ev,e.data);} }); }
            }
            function pushEventMsg(evt, obj){ const stream=document.getElementById('eventStream'); if(!stream) return; const line=document.createElement('div'); line.textContent=`[${new Date().toLocaleTimeString()}] ${evt} :: ${JSON.stringify(obj)}`; stream.prepend(line); }

            // Auto-load dynamic areas when visible
            document.addEventListener('DOMContentLoaded',()=>{ loadSponsored(); loadAuctions(); loadBundles(); loadRevenue(); initEventStream(); loadAiStatus(); loadAiSuggestions(); initAdvancedCharts(); });

            // === Advanced AI Functions ===
            async function generateStrategy() {
                const risk = document.getElementById('risk-tolerance').value;
                const goal = document.getElementById('investment-goal').value;
                const focus = document.getElementById('market-focus').value;
                const output = document.getElementById('generated-strategy');
                
                output.innerHTML = '<div style="text-align:center;padding:20px;"><div style="font-size:2rem;">‚è≥</div><p>AI is analyzing market conditions...</p></div>';
                
                try {
                    const response = await fetch('/api/ai/strategy/generate', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json', ...authHeaders() },
                        body: JSON.stringify({ riskTolerance: risk, investmentGoal: goal, marketFocus: focus })
                    });
                    const strategy = await response.json();
                    
                    if (!response.ok) throw new Error(strategy.error || 'Failed to generate strategy');
                    
                    output.innerHTML = `
                        <div style="padding:15px;">
                            <h4 style="color:#4ecdc4;margin:0 0 15px;">üéØ ${strategy.name || 'AI-Generated Strategy'}</h4>
                            <div style="margin-bottom:15px;">
                                <strong>Risk Level:</strong> <span style="color:#f39c12;">${strategy.riskLevel || risk}</span><br>
                                <strong>Expected Return:</strong> <span style="color:#4caf50;">${strategy.expectedReturn || '8-15%'}</span><br>
                                <strong>Time Horizon:</strong> <span style="color:#3498db;">${strategy.timeHorizon || '3-6 months'}</span>
                            </div>
                            <div style="background:#0d1117;padding:10px;border-radius:6px;margin-bottom:15px;">
                                <strong>Strategy:</strong><br>
                                ${strategy.description || 'Focus on diversified DeFi investments with moderate risk exposure. Allocate 60% to established tokens, 30% to promising DeFi protocols, and 10% to emerging opportunities.'}
                            </div>
                            <div style="background:#1a4d3a;padding:10px;border-radius:6px;color:#4caf50;">
                                <strong>Key Actions:</strong><br>
                                ${strategy.actions ? strategy.actions.map(a => `‚Ä¢ ${a}`).join('<br>') : '‚Ä¢ Monitor market trends daily<br>‚Ä¢ Set stop-loss at 15%<br>‚Ä¢ Take profits at 25% gains<br>‚Ä¢ Rebalance portfolio monthly'}
                            </div>
                        </div>
                    `;
                } catch (error) {
                    output.innerHTML = `
                        <div style="text-align:center;padding:20px;color:#e74c3c;">
                            <div style="font-size:2rem;">‚ùå</div>
                            <p>Failed to generate strategy: ${error.message}</p>
                            <button onclick="generateStrategy()" class="pill-btn outline" style="margin-top:10px;">Try Again</button>
                        </div>
                    `;
                }
            }

            async function runFullAnomalyScan() {
                const status = document.getElementById('security-status');
                const anomalies = document.getElementById('recent-anomalies');
                
                status.innerHTML = '<div style="width:12px;height:12px;background:#f39c12;border-radius:50%;margin-right:10px;animation:pulse 2s infinite;"></div><span style="font-weight:bold;">Scanning...</span>';
                
                try {
                    const response = await fetch('/api/ai/security/scan', {
                        method: 'POST',
                        headers: authHeaders()
                    });
                    const result = await response.json();
                    
                    if (!response.ok) throw new Error(result.error || 'Scan failed');
                    
                    // Update risk meters
                    document.getElementById('fraud-risk').style.width = (result.fraudRisk || 5) + '%';
                    document.getElementById('manipulation-risk').style.width = (result.manipulationRisk || 3) + '%';
                    document.getElementById('suspicious-activity').style.width = (result.suspiciousActivity || 8) + '%';
                    
                    // Update status
                    const riskLevel = Math.max(result.fraudRisk || 0, result.manipulationRisk || 0, result.suspiciousActivity || 0);
                    const statusColor = riskLevel > 15 ? '#e74c3c' : riskLevel > 8 ? '#f39c12' : '#4caf50';
                    const statusText = riskLevel > 15 ? 'High Risk Detected' : riskLevel > 8 ? 'Monitoring Alerts' : 'All Systems Normal';
                    
                    status.innerHTML = `<div style="width:12px;height:12px;background:${statusColor};border-radius:50%;margin-right:10px;animation:pulse 2s infinite;"></div><span style="font-weight:bold;">${statusText}</span>`;
                    
                    // Update anomalies
                    anomalies.innerHTML = result.anomalies ? result.anomalies.map(a => `<div style="color:${a.severity === 'high' ? '#e74c3c' : a.severity === 'medium' ? '#f39c12' : '#4caf50'};margin-bottom:8px;">${a.severity === 'high' ? 'üö®' : a.severity === 'medium' ? '‚ö†' : '‚úì'} ${a.description}</div>`).join('') : '<div style="color:#4caf50;">No anomalies detected</div>';
                    
                } catch (error) {
                    status.innerHTML = '<div style="width:12px;height:12px;background:#e74c3c;border-radius:50%;margin-right:10px;"></div><span style="font-weight:bold;">Scan Error</span>';
                    anomalies.innerHTML = `<div style="color:#e74c3c;">Scan failed: ${error.message}</div>`;
                }
            }

            function initAdvancedCharts() {
                // Initialize mini charts with mock data - in production these would connect to real metrics
                const charts = ['revenue-chart', 'conversion-chart', 'engagement-trend'];
                charts.forEach(chartId => {
                    const canvas = document.getElementById(chartId);
                    if (!canvas) return;
                    
                    const ctx = canvas.getContext('2d');
                    const width = canvas.width;
                    const height = canvas.height;
                    
                    // Clear canvas
                    ctx.clearRect(0, 0, width, height);
                    
                    // Draw simple trend line
                    ctx.strokeStyle = '#4ecdc4';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    
                    // Generate sample data points
                    const points = 20;
                    for (let i = 0; i < points; i++) {
                        const x = (width / points) * i;
                        const y = height - (Math.random() * 0.3 + 0.5) * height + Math.sin(i * 0.3) * 20;
                        
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    
                    ctx.stroke();
                });
                
                // Update metrics periodically
                setInterval(updateMetrics, 30000);
                updateMetrics();
            }

            function updateMetrics() {
                // Simulate real-time metric updates
                const revenueChange = document.getElementById('revenue-change');
                const conversionRate = document.getElementById('conversion-rate');
                const confidenceScore = document.getElementById('confidence-score');
                const engagementDirection = document.getElementById('engagement-direction');
                
                if (revenueChange) {
                    const change = (Math.random() * 30 - 5).toFixed(1);
                    revenueChange.textContent = (change > 0 ? '+' : '') + change + '%';
                    revenueChange.style.color = change > 0 ? '#4caf50' : '#e74c3c';
                }
                
                if (conversionRate) {
                    conversionRate.textContent = (Math.random() * 15 + 5).toFixed(1) + '%';
                }
                
                if (confidenceScore) {
                    confidenceScore.textContent = Math.floor(Math.random() * 20 + 80) + '%';
                }
                
                if (engagementDirection) {
                    const directions = ['Rising', 'Stable', 'Declining'];
                    const colors = ['#4caf50', '#f39c12', '#e74c3c'];
                    const index = Math.floor(Math.random() * directions.length);
                    engagementDirection.textContent = directions[index];
                    engagementDirection.style.color = colors[index];
                }
            }

            // === Fairness Info ===
            async function loadFairness(){
                const box = document.getElementById('fairnessBox'); if(!box) return; box.textContent='Loading fairness...';
                try{ const r=await fetch('/api/games/fair/current'); const j=await r.json(); box.innerHTML=`Seed Hash: <code>${j.serverSeedHash}</code> (rotating: ${j.rotating})`; }catch(e){ box.textContent='Fairness error'; }
            }
            setInterval(loadFairness, 60000); loadFairness();
        </script>
    </div>
</body>
</html>
